import{ad as e,c as l,l as a,w as o,a4 as t,a3 as s,aB as i,au as n}from"./index.fjkLwUVu.js";import{E as d}from"./el-row.CR2lAonX.js";import{E as r,a as m}from"./el-form-item.LUBrM-X2.js";import{E as u}from"./el-switch.CZooYmGS.js";import{E as p}from"./el-col.Asb1dzXh.js";import{s as _}from"./screen-height.CaLnsKT6.js";import{j as f,k as h}from"./setting.DSJc2CkM.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./castArray.BF9loTbA.js";import"./_Uint8Array.BeplMWlC.js";import"./tagsView.DWSC-EGY.js";const c=g({name:"MemberSettingToken",data:()=>({name:"Token设置",height:680,loading:!1,model:{token_key:"",token_exp:720,is_multi_login:0},rules:{token_key:[{required:!0,message:"请输入Token密钥",trigger:"blur"}]}}),created(){this.height=_(210),this.info()},methods:{info(){f().then((e=>{this.model=e.data}))},refresh(){this.loading=!0,f().then((l=>{this.model=l.data,this.loading=!1,e.success(l.msg)})).catch((()=>{this.loading=!1}))},submit(){this.$refs.ref.validate((l=>{l&&(this.loading=!0,h(this.model).then((l=>{this.loading=!1,e.success(l.msg)})).catch((()=>{this.loading=!1})))}))}}},[["render",function(e,_,f,h,g,c){const k=i,j=p,y=r,b=u,V=n,x=m,w=d;return l(),a(w,null,{default:o((()=>[t(j,{span:14},{default:o((()=>[t(x,{ref:"ref",model:g.model,rules:g.rules,"label-width":"120px"},{default:o((()=>[t(y,{label:"Token密钥",prop:"token_key"},{default:o((()=>[t(j,{span:8},{default:o((()=>[t(k,{modelValue:g.model.token_key,"onUpdate:modelValue":_[0]||(_[0]=e=>g.model.token_key=e),type:"password",clearable:"","show-password":""},null,8,["modelValue"])])),_:1}),t(j,{span:16},{default:o((()=>_[5]||(_[5]=[s(" 修改后会员登录状态失效，需重新登录 ")]))),_:1})])),_:1}),t(y,{label:"Token有效时间",prop:"token_exp"},{default:o((()=>[t(j,{span:8},{default:o((()=>[t(k,{modelValue:g.model.token_exp,"onUpdate:modelValue":_[1]||(_[1]=e=>g.model.token_exp=e),type:"number"},null,8,["modelValue"])])),_:1}),t(j,{span:16},{default:o((()=>_[6]||(_[6]=[s(" 小时，登录后超过此时间，需重新登录 ")]))),_:1})])),_:1}),t(y,{label:"多端登录",prop:"is_multi_login"},{default:o((()=>[t(j,{span:8},{default:o((()=>[t(b,{modelValue:g.model.is_multi_login,"onUpdate:modelValue":_[2]||(_[2]=e=>g.model.is_multi_login=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1}),t(j,{span:16},{default:o((()=>_[7]||(_[7]=[s(" 开启后可以在多个设备同时登录 ")]))),_:1})])),_:1}),t(y,null,{default:o((()=>[t(V,{loading:g.loading,onClick:_[3]||(_[3]=e=>c.refresh())},{default:o((()=>_[8]||(_[8]=[s("刷新")]))),_:1},8,["loading"]),t(V,{loading:g.loading,type:"primary",onClick:_[4]||(_[4]=e=>c.submit())},{default:o((()=>_[9]||(_[9]=[s("提交")]))),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1})}]]);export{c as default};
