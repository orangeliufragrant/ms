import{r as e,D as l,K as i,c as t,l as s,w as r,a4 as a,g as o,ap as f,e as p,k as d,ac as u,a3 as n,au as c}from"./index.fjkLwUVu.js";import{E as y}from"./el-row.CR2lAonX.js";import{E as _}from"./el-col.Asb1dzXh.js";import{E as m}from"./el-image-viewer.CKIWDlAT.js";import{_ as h}from"./index.Ca7HhsrZ.js";import{c as v}from"./index.DKis4amu.js";const w={key:0},g={key:0},k=["src"],x=["data"],z=["src"],j=["src"],b=["src"],E={key:3},B={key:4},T={__name:"FilePreview",props:{file:{type:Object,default:()=>{}},height:{type:Number,default:30},fit:{type:String,default:""},lazy:{type:Boolean,default:!1},previewTeleported:{type:Boolean,default:!0},download:{type:Boolean,default:!1}},setup(T){const A=T,C=e(24),D=e(0),F=l((()=>({height:A.height+"px"}))),K=l((()=>({height:A.height+"px"}))),N=l((()=>({height:A.height+"px"}))),O=l((()=>({width:"90%"}))),P=l((()=>.7*A.height+"px"));return i((()=>A.download),(e=>{e&&(C.value=12,D.value=12)}),{immediate:!0,deep:!0}),(e,l)=>{const i=h,A=m,S=_,q=c,G=y;return t(),s(G,{style:{width:"100%"}},{default:r((()=>[a(S,{span:o(C),style:f(o(F))},{default:r((()=>[T.file.file_url?(t(),p("div",w,["image"===T.file.file_type?(t(),p("div",g,[a(A,{style:f(o(K)),src:T.file.file_url,fit:T.fit,"preview-src-list":[T.file.file_url],"preview-teleported":T.previewTeleported,lazy:T.lazy,title:"点击看大图"},{error:r((()=>[a(i,{"icon-class":"picture"})])),_:1},8,["style","src","fit","preview-src-list","preview-teleported","lazy"])])):"video"===T.file.file_type?(t(),p("video",{key:1,style:f(o(N)),controls:""},[d("source",{src:T.file.file_url,type:"video/mp4"},null,8,k),d("object",{data:T.file.file_url,style:f(o(N))},[d("embed",{src:T.file.file_url,style:f(o(N))},null,12,z)],12,x)],4)):"audio"===T.file.file_type?(t(),p("audio",{key:2,style:f(o(O)),controls:""},[d("source",{src:T.file.file_url,type:"audio/mp3"},null,8,j),d("embed",{src:T.file.file_url,style:f(o(O))},null,12,b)],4)):"word"===T.file.file_type?(t(),p("div",E,[a(i,{"icon-class":"document",size:o(P)},null,8,["size"])])):"other"===T.file.file_type?(t(),p("div",B,[a(i,{"icon-class":"folder",size:o(P)},null,8,["size"])])):u("",!0)])):u("",!0)])),_:1},8,["span","style"]),a(S,{span:o(D)},{default:r((()=>[a(q,{onClick:l[0]||(l[0]=e=>{return l=T.file,v(function(e){return e.file_name+"."+e.file_ext}(l),"文件名已复制"),void setTimeout((()=>{window.open(l.file_url,"_blank")}),500);var l})},{default:r((()=>l[1]||(l[1]=[n("下载")]))),_:1})])),_:1},8,["span"])])),_:1})}}};export{T as _};
