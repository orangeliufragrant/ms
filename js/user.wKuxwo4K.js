import{at as e,ad as l,ae as t,c as a,e as s,a4 as o,w as i,Q as d,ah as r,l as u,a3 as p,k as n,t as m,ac as c,O as h,P as _,aB as f,au as g}from"./index.fjkLwUVu.js";import{v as b}from"./el-loading.DGjIZa5s.js";import"./el-scrollbar.DAmtYv6U.js";import{E as y}from"./el-tree.DcHy0bl4.js";import{E as k}from"./el-checkbox.Bx2MqeyX.js";import{_ as V}from"./index.Ca7HhsrZ.js";import{_ as v}from"./index.uvQ3DMPv.js";import{E as w,a as j}from"./el-table-column.CcJDJdsG.js";import"./el-tooltip.l0sNRNKZ.js";import"./el-popper.DZg10sPd.js";import{E as x}from"./el-link.Ds1J_vSa.js";import{_ as U}from"./FileImage.CNK6_fwR.js";import{a as q,E as D}from"./el-select.Dphl92Bb.js";import{E as C}from"./el-dialog.BQ-7T3N1.js";import{E as T,a as A}from"./el-form-item.LUBrM-X2.js";import{E}from"./el-switch.CZooYmGS.js";import{E as I}from"./el-row.CR2lAonX.js";import{E as P}from"./el-col.Asb1dzXh.js";import{E as S}from"./el-date-picker.CuOHw7o_.js";import{E as $}from"./el-radio.zApfy_2f.js";import{s as O}from"./screen-height.CaLnsKT6.js";import{a as G}from"./index.DKis4amu.js";import{g as R}from"./settings.BkEO_yzR.js";import{_ as Y}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{E as F}from"./index.CC5uJ0zJ.js";import"./index.B32kbnyx.js";import"./isEqual.C9MgJhLZ.js";import"./_Uint8Array.BeplMWlC.js";import"./strings.BFjoWW54.js";import"./index.BIv6f7sb.js";import"./raf.CCooGNZO.js";import"./index.BAnbBVvD.js";import"./el-text.BpgAV3tu.js";import"./el-avatar.CztSEU-_.js";import"./el-image-viewer.CKIWDlAT.js";import"./index.CZvH84Pk.js";import"./FilePreview.ysv9CpFr.js";/* empty css                          */import"./el-progress.C11kH2od.js";import"./cloneDeep.CpzyAp_h.js";import"./el-card.DQc9Ri4s.js";/* empty css                       */import"./permission.6opTfbBv.js";import"./group.Dp74GP4K.js";import"./tag.C6qLWou5.js";import"./index.D1QADgj8.js";import"./castArray.BF9loTbA.js";import"./refs.A9PVpu8F.js";import"./tagsView.DWSC-EGY.js";const z="/admin/system.User/";const B={class:"app-container"},H={class:"c-red"},M={class:"custom-tree-node"},N={key:0,class:"el-icon-check",style:{color:"#1890ff"},title:"已分配"},K={key:0,style:{"margin-left":"10px"},title:"角色"},Q=["title"],J={key:2,style:{"margin-left":"10px",color:"#fff"}},L={key:3,style:{"margin-left":"10px"},title:"免登"},W={key:4,style:{"margin-left":"10px",color:"#fff"}},X={key:5,style:{"margin-left":"10px"},title:"免权"},Z={key:6,style:{"margin-left":"10px",color:"#fff"}};const ee=Y({name:"SystemUser",components:{Pagination:v},data:()=>({name:"用户",height:680,loading:!1,idkey:"user_id",exps:[{exp:"like",name:"包含"}],query:{page:1,limit:R(),search_field:"username",search_exp:"like",date_field:"create_time"},data:[],count:0,dialog:!1,dialogTitle:"",model:{user_id:"",number:"",avatar_id:0,avatar_url:"",nickname:"",username:"",password:"",phone:"",email:"",remark:"",sort:250,login_ip:"",login_region:"",login_time:"",logout_time:"",create_time:"",update_time:"",dept_ids:[],post_ids:[],role_ids:[]},rules:{nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}],username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},selection:[],selectIds:"",selectTitle:"操作",selectDialog:!1,selectType:"",dept_ids:[],post_ids:[],role_ids:[],password:"",is_super:0,is_disable:0,deptData:[],deptProps:{checkStrictly:!0,value:"dept_id",label:"dept_name",multiple:!0,emitPath:!1},postData:[],postProps:{checkStrictly:!0,value:"post_id",label:"post_name",multiple:!0,emitPath:!1},roleData:[],menuProps:{label:"menu_name",children:"children"},menuExpandAll:!1}),created(){this.height=O(),this.list()},methods:{list(){var l;this.loading=!0,(l=this.query,e({url:z+"list",method:"get",params:l})).then((e=>{this.data=e.data.list,this.count=e.data.count,this.deptData=e.data.dept,this.postData=e.data.post,this.roleData=e.data.role,this.exps=e.data.exps,this.loading=!1})).catch((()=>{this.loading=!1}))},add(){this.dialog=!0,this.dialogTitle=this.name+"添加",this.reset()},edit(l){this.dialog=!0,this.dialogTitle=this.name+"修改："+l[this.idkey];var t,a={};a[this.idkey]=l[this.idkey],(t=a,e({url:z+"info",method:"get",params:t})).then((e=>{this.reset(e.data)})).catch((()=>{}))},cancel(){this.dialog=!1,this.reset()},submit(){this.$refs.ref.validate((t=>{var a;t&&(this.loading=!0,this.model[this.idkey]?(a=this.model,e({url:z+"edit",method:"post",data:a})).then((e=>{this.list(),this.dialog=!1,l.success(e.msg)})).catch((()=>{this.loading=!1})):function(l){return e({url:z+"add",method:"post",data:l})}(this.model).then((e=>{this.list(),this.dialog=!1,l.success(e.msg)})).catch((()=>{this.loading=!1})))}))},reset(e){if(this.model=e||this.$options.data().model,this.menuExpandAll=!1,this.fileDialog=!1,void 0!==this.$refs.ref)try{this.$refs.ref.resetFields(),this.$refs.ref.clearValidate()}catch(l){}},search(){this.query.page=1,this.list()},refresh(){const e=this.query.limit;this.query=this.$options.data().query,this.$refs.table.clearSort(),this.query.limit=e,this.list()},sort(e){this.query.sort_field=e.prop,this.query.sort_value="","ascending"===e.order&&(this.query.sort_value="asc",this.list()),"descending"===e.order&&(this.query.sort_value="desc",this.list())},select(e){this.selection=e,this.selectIds=this.selectGetIds(e).toString()},selectGetIds(e){return G(e,this.idkey)},selectAlert(){t.alert("请选择需要操作的"+this.name,"提示",{type:"warning",callback:()=>{}})},selectOpen(e,l=""){if(l){this.$refs.table.clearSelection();const e=l.length;for(let t=0;t<e;t++)this.$refs.table.toggleRowSelection(l[t],!0)}this.selection.length?(this.selectTitle="操作","editdept"===e?this.selectTitle=this.name+"修改部门":"editpost"===e?this.selectTitle=this.name+"修改职位":"editrole"===e?this.selectTitle=this.name+"修改角色":"super"===e?this.selectTitle=this.name+"是否超管":"password"===e?this.selectTitle=this.name+"重置密码":"disable"===e?this.selectTitle=this.name+"是否禁用":"dele"===e&&(this.selectTitle=this.name+"删除"),this.selectDialog=!0,this.selectType=e):this.selectAlert()},selectCancel(){this.selectDialog=!1},selectSubmit(){if(this.selection.length){const e=this.selectType;"editdept"===e?this.editdept(this.selection,!0):"editpost"===e?this.editpost(this.selection,!0):"editrole"===e?this.editrole(this.selection,!0):"super"===e?this.issuper(this.selection,!0):"password"===e?this.repwd(this.selection,!0):"disable"===e?this.disable(this.selection,!0):"dele"===e&&this.dele(this.selection),this.selectDialog=!1}else this.selectAlert()},repwd(t,a=!1){if(t.length){if(!this.password)return l.error("请输入新密码"),!1;this.loading=!0;var s=t[0].password;a&&(s=this.password),(o={ids:this.selectGetIds(t),password:s},e({url:z+"repwd",method:"post",data:o})).then((e=>{this.list(),l.success(e.msg)})).catch((()=>{this.loading=!1}))}else this.selectAlert();var o},editdept(t){var a;t.length?(this.loading=!0,(a={ids:this.selectGetIds(t),dept_ids:this.dept_ids},e({url:z+"editdept",method:"post",data:a})).then((e=>{this.list(),l.success(e.msg)})).catch((()=>{this.loading=!1}))):this.selectAlert()},editpost(t){var a;t.length?(this.loading=!0,(a={ids:this.selectGetIds(t),post_ids:this.post_ids},e({url:z+"editpost",method:"post",data:a})).then((e=>{this.list(),l.success(e.msg)})).catch((()=>{this.loading=!1}))):this.selectAlert()},editrole(t){var a;t.length?(this.loading=!0,(a={ids:this.selectGetIds(t),role_ids:this.role_ids},e({url:z+"editrole",method:"post",data:a})).then((e=>{this.list(),l.success(e.msg)})).catch((()=>{this.loading=!1}))):this.selectAlert()},issuper(t,a=!1){if(t.length){this.loading=!0;var s=t[0].is_super;a&&(s=this.is_super),(o={ids:this.selectGetIds(t),is_super:s},e({url:z+"super",method:"post",data:o})).then((e=>{this.list(),l.success(e.msg)})).catch((()=>{this.list()}))}else this.selectAlert();var o},disable(t,a=!1){if(t.length){this.loading=!0;var s=t[0].is_disable;a&&(s=this.is_disable),(o={ids:this.selectGetIds(t),is_disable:s},e({url:z+"disable",method:"post",data:o})).then((e=>{this.list(),l.success(e.msg)})).catch((()=>{this.list()}))}else this.selectAlert();var o},dele(t){var a;t.length?(a={ids:this.selectGetIds(t)},e({url:z+"dele",method:"post",data:a})).then((e=>{this.list(),l.success(e.msg)})).catch((()=>{this.loading=!1})):this.selectAlert()},menuExpandAllChange(){const e=this.menuExpandAll,l=this.$refs.menuRef.store._getAllNodes().length;for(let t=0;t<l;t++)this.$refs.menuRef.store._getAllNodes()[t].expanded=e},fileUpload(){this.fileDialog=!0},fileCancel(){this.fileDialog=!1},fileSubmit(e){this.fileDialog=!1;const l=e.length;if(l){const t=l-1;this.model.avatar_id=e[t].file_id,this.model.avatar_url=e[t].file_url}},fileDelete(){this.model.avatar_id=0,this.model.avatar_url=""}}},[["render",function(e,l,t,O,G,R){const Y=q,z=D,ee=$,le=f,te=S,ae=g,se=P,oe=I,ie=T,de=E,re=A,ue=C,pe=w,ne=U,me=x,ce=j,he=v,_e=k,fe=V,ge=y,be=F,ye=b;return a(),s("div",B,[o(oe,null,{default:i((()=>[o(se,{class:"mb-2"},{default:i((()=>[o(z,{modelValue:G.query.search_field,"onUpdate:modelValue":l[0]||(l[0]=e=>G.query.search_field=e),class:"ya-search-field",placeholder:"查询字段"},{default:i((()=>[o(Y,{value:G.idkey,label:"ID"},null,8,["value"]),o(Y,{value:"number",label:"编号"}),o(Y,{value:"nickname",label:"昵称"}),o(Y,{value:"username",label:"账号"}),o(Y,{value:"phone",label:"手机"}),o(Y,{value:"email",label:"邮箱"}),o(Y,{value:"dept_ids",label:"部门"}),o(Y,{value:"post_ids",label:"职位"}),o(Y,{value:"role_ids",label:"角色"}),o(Y,{value:"is_super",label:"超管"}),o(Y,{value:"remark",label:"备注"}),o(Y,{value:"is_disable",label:"禁用"})])),_:1},8,["modelValue"]),o(z,{modelValue:G.query.search_exp,"onUpdate:modelValue":l[1]||(l[1]=e=>G.query.search_exp=e),class:"ya-search-exp"},{default:i((()=>[(a(!0),s(d,null,r(G.exps,(e=>(a(),u(Y,{key:e.exp,value:e.exp,label:e.name},null,8,["value","label"])))),128))])),_:1},8,["modelValue"]),"is_super"===G.query.search_field||"is_disable"===G.query.search_field?(a(),u(z,{key:0,modelValue:G.query.search_value,"onUpdate:modelValue":l[2]||(l[2]=e=>G.query.search_value=e),class:"ya-search-value"},{default:i((()=>[o(Y,{value:1,label:"是"}),o(Y,{value:0,label:"否"})])),_:1},8,["modelValue"])):"dept_ids"===G.query.search_field?(a(),u(ee,{key:1,modelValue:G.query.search_value,"onUpdate:modelValue":l[3]||(l[3]=e=>G.query.search_value=e),options:G.deptData,props:G.deptProps,class:"ya-search-value",clearable:"",filterable:"","collapse-tags":""},null,8,["modelValue","options","props"])):"post_ids"===G.query.search_field?(a(),u(ee,{key:2,modelValue:G.query.search_value,"onUpdate:modelValue":l[4]||(l[4]=e=>G.query.search_value=e),options:G.postData,props:G.postProps,class:"ya-search-value",clearable:"",filterable:"","collapse-tags":""},null,8,["modelValue","options","props"])):"role_ids"===G.query.search_field?(a(),u(z,{key:3,modelValue:G.query.search_value,"onUpdate:modelValue":l[5]||(l[5]=e=>G.query.search_value=e),class:"ya-search-value",clearable:"",filterable:"",multiple:"","collapse-tags":""},{default:i((()=>[(a(!0),s(d,null,r(G.roleData,(e=>(a(),u(Y,{key:e.role_id,label:e.role_name,value:e.role_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])):(a(),u(le,{key:4,modelValue:G.query.search_value,"onUpdate:modelValue":l[6]||(l[6]=e=>G.query.search_value=e),class:"ya-search-value",placeholder:"查询内容",clearable:""},null,8,["modelValue"])),o(z,{modelValue:G.query.date_field,"onUpdate:modelValue":l[7]||(l[7]=e=>G.query.date_field=e),class:"ya-date-field",placeholder:"时间类型"},{default:i((()=>[o(Y,{value:"create_time",label:"添加时间"}),o(Y,{value:"update_time",label:"修改时间"}),o(Y,{value:"login_time",label:"登录时间"}),o(Y,{value:"logout_time",label:"退出时间"})])),_:1},8,["modelValue"]),o(te,{modelValue:G.query.date_value,"onUpdate:modelValue":l[8]||(l[8]=e=>G.query.date_value=e),type:"datetimerange",class:"ya-date-value","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"YYYY-MM-DD HH:mm:ss","default-time":[new Date(2024,1,1,0,0,0),new Date(2024,1,1,23,59,59)]},null,8,["modelValue","default-time"]),o(ae,{type:"primary",title:"查询/刷新",onClick:l[9]||(l[9]=e=>R.search())},{default:i((()=>l[51]||(l[51]=[p("查询")]))),_:1}),o(ae,{type:"default",title:"重置查询条件",onClick:l[10]||(l[10]=e=>R.refresh())},{default:i((()=>l[52]||(l[52]=[p("重置")]))),_:1}),o(ae,{type:"primary",onClick:l[11]||(l[11]=e=>R.add())},{default:i((()=>l[53]||(l[53]=[p("添加")]))),_:1})])),_:1})])),_:1}),o(oe,null,{default:i((()=>[o(se,null,{default:i((()=>[o(ae,{title:"删除"+G.name,onClick:l[12]||(l[12]=e=>R.selectOpen("dele"))},{default:i((()=>l[54]||(l[54]=[p("删除")]))),_:1},8,["title"]),o(ae,{title:"是否禁用",onClick:l[13]||(l[13]=e=>R.selectOpen("disable"))},{default:i((()=>l[55]||(l[55]=[p("禁用")]))),_:1}),o(ae,{title:"修改角色",onClick:l[14]||(l[14]=e=>R.selectOpen("editrole"))},{default:i((()=>l[56]||(l[56]=[p("角色")]))),_:1}),o(ae,{title:"修改部门",onClick:l[15]||(l[15]=e=>R.selectOpen("editdept"))},{default:i((()=>l[57]||(l[57]=[p("部门")]))),_:1}),o(ae,{title:"修改职位",onClick:l[16]||(l[16]=e=>R.selectOpen("editpost"))},{default:i((()=>l[58]||(l[58]=[p("职位")]))),_:1}),o(ae,{title:"重置密码",onClick:l[17]||(l[17]=e=>R.selectOpen("password"))},{default:i((()=>l[59]||(l[59]=[p("密码")]))),_:1}),o(ae,{title:"是否超管",onClick:l[18]||(l[18]=e=>R.selectOpen("super"))},{default:i((()=>l[60]||(l[60]=[p("超管")]))),_:1})])),_:1})])),_:1}),o(ue,{modelValue:G.selectDialog,"onUpdate:modelValue":l[26]||(l[26]=e=>G.selectDialog=e),title:G.selectTitle,"close-on-click-modal":!1,"close-on-press-escape":!1,top:"20vh"},{footer:i((()=>[o(ae,{loading:G.loading,onClick:R.selectCancel},{default:i((()=>l[61]||(l[61]=[p("取消")]))),_:1},8,["loading","onClick"]),o(ae,{loading:G.loading,type:"primary",onClick:R.selectSubmit},{default:i((()=>l[62]||(l[62]=[p("提交")]))),_:1},8,["loading","onClick"])])),default:i((()=>[o(re,{ref:"selectRef","label-width":"120px"},{default:i((()=>["editdept"===G.selectType?(a(),u(ie,{key:0,label:"部门",prop:"dept_ids"},{default:i((()=>[o(ee,{modelValue:G.dept_ids,"onUpdate:modelValue":l[19]||(l[19]=e=>G.dept_ids=e),options:G.deptData,props:G.deptProps,class:"w-full",clearable:"",filterable:""},null,8,["modelValue","options","props"])])),_:1})):"editpost"===G.selectType?(a(),u(ie,{key:1,label:"职位",prop:"post_ids"},{default:i((()=>[o(ee,{modelValue:G.post_ids,"onUpdate:modelValue":l[20]||(l[20]=e=>G.post_ids=e),options:G.postData,props:G.postProps,class:"w-full",clearable:"",filterable:""},null,8,["modelValue","options","props"])])),_:1})):"editrole"===G.selectType?(a(),u(ie,{key:2,label:"角色",prop:"role_ids"},{default:i((()=>[o(z,{modelValue:G.role_ids,"onUpdate:modelValue":l[21]||(l[21]=e=>G.role_ids=e),class:"w-full",clearable:"",filterable:"",multiple:""},{default:i((()=>[(a(!0),s(d,null,r(G.roleData,(e=>(a(),u(Y,{key:e.role_id,label:e.role_name,value:e.role_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})):"password"===G.selectType?(a(),u(ie,{key:3,label:"新密码",prop:"password"},{default:i((()=>[o(le,{modelValue:G.password,"onUpdate:modelValue":l[22]||(l[22]=e=>G.password=e),placeholder:"请输入新密码",clearable:"","show-password":""},null,8,["modelValue"])])),_:1})):"super"===G.selectType?(a(),u(ie,{key:4,label:"是否超管"},{default:i((()=>[o(de,{modelValue:G.is_super,"onUpdate:modelValue":l[23]||(l[23]=e=>G.is_super=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1})):"disable"===G.selectType?(a(),u(ie,{key:5,label:"是否禁用"},{default:i((()=>[o(de,{modelValue:G.is_disable,"onUpdate:modelValue":l[24]||(l[24]=e=>G.is_disable=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1})):"dele"===G.selectType?(a(),u(ie,{key:6,label:"删除？"},{default:i((()=>[n("span",H,"确定要删除选中的"+m(G.name)+"吗？",1)])),_:1})):c("",!0),o(ie,{label:G.name+"ID",prop:G.idkey},{default:i((()=>[o(le,{modelValue:G.selectIds,"onUpdate:modelValue":l[25]||(l[25]=e=>G.selectIds=e),type:"textarea",autosize:"",disabled:""},null,8,["modelValue"])])),_:1},8,["label","prop"])])),_:1},512)])),_:1},8,["modelValue","title"]),h((a(),u(ce,{ref:"table",data:G.data,height:G.height,onSortChange:R.sort,onSelectionChange:R.select},{default:i((()=>[o(pe,{type:"selection",width:"42",title:"全选/反选"}),o(pe,{prop:G.idkey,label:"ID",width:"80",sortable:"custom"},null,8,["prop"]),o(pe,{prop:"avatar_id",label:"头像","min-width":"62"},{default:i((e=>[o(ne,{"file-url":e.row.avatar_url,avatar:"",lazy:""},null,8,["file-url"])])),_:1}),o(pe,{prop:"number",label:"编号","min-width":"85",sortable:"custom","show-overflow-tooltip":""}),o(pe,{prop:"nickname",label:"昵称","min-width":"100",sortable:"custom","show-overflow-tooltip":""}),o(pe,{prop:"username",label:"账号","min-width":"100",sortable:"custom","show-overflow-tooltip":""}),o(pe,{prop:"dept_names",label:"部门","min-width":"120","show-overflow-tooltip":""}),o(pe,{prop:"post_names",label:"职位","min-width":"120","show-overflow-tooltip":""}),o(pe,{prop:"role_names",label:"角色","min-width":"120","show-overflow-tooltip":""}),o(pe,{prop:"is_super_name",label:"超管","min-width":"80",sortable:"custom"}),o(pe,{prop:"is_disable_name",label:"禁用","min-width":"80",sortable:"custom"}),o(pe,{prop:"sort",label:"排序","min-width":"80",sortable:"custom"}),o(pe,{prop:"login_time",label:"登录时间",width:"165",sortable:"custom"}),o(pe,{prop:"create_time",label:"添加时间",width:"165",sortable:"custom"}),o(pe,{prop:"update_time",label:"修改时间",width:"165",sortable:"custom"}),o(pe,{label:"操作",width:"95"},{default:i((e=>[o(me,{type:"primary",class:"mr-1",underline:!1,onClick:l=>R.edit(e.row)},{default:i((()=>l[63]||(l[63]=[p(" 修改 ")]))),_:2},1032,["onClick"]),o(me,{type:"primary",underline:!1,onClick:l=>R.selectOpen("dele",[e.row])},{default:i((()=>l[64]||(l[64]=[p(" 删除 ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","height","onSortChange","onSelectionChange"])),[[ye,G.loading]]),h(o(he,{total:G.count,"onUpdate:total":l[27]||(l[27]=e=>G.count=e),page:G.query.page,"onUpdate:page":l[28]||(l[28]=e=>G.query.page=e),limit:G.query.limit,"onUpdate:limit":l[29]||(l[29]=e=>G.query.limit=e),onPagination:R.list},null,8,["total","page","limit","onPagination"]),[[_,G.count>0]]),o(ue,{modelValue:G.dialog,"onUpdate:modelValue":l[50]||(l[50]=e=>G.dialog=e),title:G.dialogTitle,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":R.cancel,top:"5vh"},{footer:i((()=>[o(ae,{loading:G.loading,onClick:R.cancel},{default:i((()=>l[66]||(l[66]=[p("取消")]))),_:1},8,["loading","onClick"]),o(ae,{loading:G.loading,type:"primary",onClick:R.submit},{default:i((()=>l[67]||(l[67]=[p("提交")]))),_:1},8,["loading","onClick"])])),default:i((()=>[o(be,{native:"",height:G.height-30},{default:i((()=>[o(re,{ref:"ref",model:G.model,rules:G.rules,"label-width":"100px"},{default:i((()=>[o(ie,{label:"头像",prop:"avatar_id"},{default:i((()=>[o(ne,{modelValue:G.model.avatar_id,"onUpdate:modelValue":l[30]||(l[30]=e=>G.model.avatar_id=e),"file-url":G.model.avatar_url,"file-title":"上传头像","file-tip":"图片小于 100 KB，jpg、png格式，100 x 100。",height:100,avatar:"",upload:""},null,8,["modelValue","file-url"])])),_:1}),o(ie,{label:"编号",prop:"number"},{default:i((()=>[o(le,{key:"number",modelValue:G.model.number,"onUpdate:modelValue":l[31]||(l[31]=e=>G.model.number=e),placeholder:"请输入编号（工号）",clearable:""},null,8,["modelValue"])])),_:1}),o(ie,{label:"昵称",prop:"nickname"},{default:i((()=>[o(le,{key:"nickname",modelValue:G.model.nickname,"onUpdate:modelValue":l[32]||(l[32]=e=>G.model.nickname=e),placeholder:"请输入昵称（姓名）",clearable:""},null,8,["modelValue"])])),_:1}),o(ie,{label:"账号",prop:"username"},{default:i((()=>[o(le,{key:"username",modelValue:G.model.username,"onUpdate:modelValue":l[33]||(l[33]=e=>G.model.username=e),placeholder:"请输入账号（用户名）",clearable:""},null,8,["modelValue"])])),_:1}),""==G.model[G.idkey]?(a(),u(ie,{key:0,label:"密码",prop:"password"},{default:i((()=>[o(le,{key:"password",modelValue:G.model.password,"onUpdate:modelValue":l[34]||(l[34]=e=>G.model.password=e),placeholder:"请输入密码",clearable:"","show-password":""},null,8,["modelValue"])])),_:1})):c("",!0),o(ie,{label:"手机",prop:"phone"},{default:i((()=>[o(le,{modelValue:G.model.phone,"onUpdate:modelValue":l[35]||(l[35]=e=>G.model.phone=e),clearable:""},null,8,["modelValue"])])),_:1}),o(ie,{label:"邮箱",prop:"email"},{default:i((()=>[o(le,{modelValue:G.model.email,"onUpdate:modelValue":l[36]||(l[36]=e=>G.model.email=e),clearable:""},null,8,["modelValue"])])),_:1}),o(ie,{label:"备注",prop:"remark"},{default:i((()=>[o(le,{modelValue:G.model.remark,"onUpdate:modelValue":l[37]||(l[37]=e=>G.model.remark=e),clearable:""},null,8,["modelValue"])])),_:1}),o(ie,{label:"排序",prop:"sort"},{default:i((()=>[o(le,{modelValue:G.model.sort,"onUpdate:modelValue":l[38]||(l[38]=e=>G.model.sort=e),type:"number"},null,8,["modelValue"])])),_:1}),G.model[G.idkey]?(a(),u(ie,{key:1,label:"登录次数",prop:"login_ip"},{default:i((()=>[o(le,{modelValue:G.model.login_num,"onUpdate:modelValue":l[39]||(l[39]=e=>G.model.login_num=e),disabled:""},null,8,["modelValue"])])),_:1})):c("",!0),G.model[G.idkey]?(a(),u(ie,{key:2,label:"登录IP",prop:"login_ip"},{default:i((()=>[o(le,{modelValue:G.model.login_ip,"onUpdate:modelValue":l[40]||(l[40]=e=>G.model.login_ip=e),disabled:""},null,8,["modelValue"])])),_:1})):c("",!0),G.model[G.idkey]?(a(),u(ie,{key:3,label:"登录地区",prop:"login_region"},{default:i((()=>[o(le,{modelValue:G.model.login_region,"onUpdate:modelValue":l[41]||(l[41]=e=>G.model.login_region=e),disabled:""},null,8,["modelValue"])])),_:1})):c("",!0),G.model[G.idkey]?(a(),u(ie,{key:4,label:"登录时间",prop:"login_time"},{default:i((()=>[o(le,{modelValue:G.model.login_time,"onUpdate:modelValue":l[42]||(l[42]=e=>G.model.login_time=e),disabled:""},null,8,["modelValue"])])),_:1})):c("",!0),G.model[G.idkey]?(a(),u(ie,{key:5,label:"退出时间",prop:"logout_time"},{default:i((()=>[o(le,{modelValue:G.model.logout_time,"onUpdate:modelValue":l[43]||(l[43]=e=>G.model.logout_time=e),disabled:""},null,8,["modelValue"])])),_:1})):c("",!0),G.model[G.idkey]?(a(),u(ie,{key:6,label:"添加时间",prop:"create_time"},{default:i((()=>[o(le,{modelValue:G.model.create_time,"onUpdate:modelValue":l[44]||(l[44]=e=>G.model.create_time=e),disabled:""},null,8,["modelValue"])])),_:1})):c("",!0),G.model.delete_time?(a(),u(ie,{key:7,label:"删除时间",prop:"delete_time"},{default:i((()=>[o(le,{modelValue:G.model.delete_time,"onUpdate:modelValue":l[45]||(l[45]=e=>G.model.delete_time=e),disabled:""},null,8,["modelValue"])])),_:1})):c("",!0),G.model[G.idkey]?(a(),u(ie,{key:8,label:"部门",prop:"dept_ids"},{default:i((()=>[o(ee,{modelValue:G.model.dept_ids,"onUpdate:modelValue":l[46]||(l[46]=e=>G.model.dept_ids=e),options:G.deptData,props:G.deptProps,class:"w-full",disabled:"",placeholder:""},null,8,["modelValue","options","props"])])),_:1})):c("",!0),G.model[G.idkey]?(a(),u(ie,{key:9,label:"职位",prop:"post_ids"},{default:i((()=>[o(ee,{modelValue:G.model.post_ids,"onUpdate:modelValue":l[47]||(l[47]=e=>G.model.post_ids=e),options:G.postData,props:G.postProps,class:"w-full",disabled:"",placeholder:""},null,8,["modelValue","options","props"])])),_:1})):c("",!0),G.model[G.idkey]?(a(),u(ie,{key:10,label:"角色",prop:"role_ids"},{default:i((()=>[o(z,{modelValue:G.model.role_ids,"onUpdate:modelValue":l[48]||(l[48]=e=>G.model.role_ids=e),class:"w-full",disabled:"",multiple:"",placeholder:""},{default:i((()=>[(a(!0),s(d,null,r(G.roleData,(e=>(a(),u(Y,{key:e.role_id,label:e.role_name,value:e.role_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})):c("",!0),G.model[G.idkey]?(a(),u(ie,{key:11,label:"菜单(权限)",prop:"menu_tree"},{default:i((()=>[o(se,null,{default:i((()=>[o(_e,{modelValue:G.menuExpandAll,"onUpdate:modelValue":l[49]||(l[49]=e=>G.menuExpandAll=e),title:"展开/收起",onChange:R.menuExpandAllChange},{default:i((()=>l[65]||(l[65]=[p(" 展开 ")]))),_:1},8,["modelValue","onChange"])])),_:1}),o(ge,{ref:"menuRef",data:G.model.menu_tree,props:G.menuProps,"node-key":"menu_id","default-checked-keys":G.model.menu_ids,"expand-on-click-node":!1,"highlight-current":""},{default:i((e=>[n("span",M,[n("span",null,[p(m(e.node.label)+" ",1),e.data.is_check?(a(),s("i",N,[o(fe,{"icon-class":"check"})])):c("",!0)]),n("span",null,[e.data.is_role?(a(),s("i",K,[o(fe,{"icon-class":"custom"})])):c("",!0),e.data.menu_url?(a(),s("i",{key:1,style:{"margin-left":"10px"},title:e.data.menu_url},[o(fe,{"icon-class":"link"})],8,Q)):(a(),s("i",J,[o(fe,{"icon-class":"link"})])),e.data.is_unlogin?(a(),s("i",L,[o(fe,{"icon-class":"user"})])):(a(),s("i",W,[o(fe,{"icon-class":"user"})])),e.data.is_unauth?(a(),s("i",X,[o(fe,{"icon-class":"unlock"})])):(a(),s("i",Z,[o(fe,{"icon-class":"unlock"})]))])])])),_:1},8,["data","props","default-checked-keys"])])),_:1})):c("",!0)])),_:1},8,["model","rules"])])),_:1},8,["height"])])),_:1},8,["modelValue","title","before-close"])])}]]);export{ee as default};
