import{D as e,dq as t,q as l,aU as o,h as r,b as n,S as a,d as s,a as i,r as c,J as d,g as u,K as h,L as m,M as f,aj as p,aR as w,aD as g,o as y,aP as x,a0 as v,dr as b,m as S,N as R,Q as T,cr as C,bo as H,Y as I,aX as E,$ as M,aV as O,aH as L,bh as W,W as D,a1 as z,f as K,a4 as A,j as N,aT as j,z as F,ds as G,dt as V,E as k,I as P,p as $,ct as B,s as q}from"./index.fjkLwUVu.js";import{d as U}from"./strings.BFjoWW54.js";import{B as Y}from"./el-scrollbar.DAmtYv6U.js";import{c as X,r as J}from"./raf.CCooGNZO.js";import{c as Q}from"./castArray.BF9loTbA.js";import{a as _}from"./el-progress.C11kH2od.js";var Z=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function ee(e,t){if(e.length!==t.length)return!1;for(var l=0;l<e.length;l++)if(o=e[l],r=t[l],!(o===r||Z(o)&&Z(r)))return!1;var o,r;return!0}const te=()=>{const o=l().proxy.$props;return e((()=>{const e=(e,t,l)=>({});return o.perfMode?t(e):function(e,t){void 0===t&&(t=ee);var l=null;function o(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];if(l&&l.lastThis===this&&t(o,l.lastArgs))return l.lastResult;var n=e.apply(this,o);return l={lastResult:n,lastArgs:o,lastThis:this},n}return o.clear=function(){l=null},o}(e)}))},le="itemRendered",oe="scroll",re="forward",ne="backward",ae="auto",se="smart",ie="start",ce="center",de="end",ue="horizontal",he="vertical",me="negative",fe="positive-ascending",pe="positive-descending",we={[ue]:"left",[he]:"top"},ge=o({type:r([Number,Function]),required:!0}),ye=o({type:Number}),xe=o({type:Number,default:2}),ve=o({type:String,values:["ltr","rtl"],default:"ltr"}),be=o({type:Number,default:0}),Se=o({type:Number,required:!0}),Re=o({type:String,values:["horizontal","vertical"],default:he}),Te=n({className:{type:String,default:""},containerElement:{type:r([String,Object]),default:"div"},data:{type:r(Array),default:()=>a([])},direction:ve,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:r([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),Ce=n({cache:xe,estimatedItemSize:ye,layout:Re,initScrollOffset:be,total:Se,itemSize:ge,...Te}),He={type:Number,default:6},Ie={type:Number,default:0},Ee={type:Number,default:2},Me=n({columnCache:xe,columnWidth:ge,estimatedColumnWidth:ye,estimatedRowHeight:ye,initScrollLeft:be,initScrollTop:be,itemKey:{type:r(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:xe,rowHeight:ge,totalColumn:Se,totalRow:Se,hScrollbarSize:He,vScrollbarSize:He,scrollbarStartGap:Ie,scrollbarEndGap:Ee,role:String,...Te}),Oe=n({alwaysOn:Boolean,class:String,layout:Re,total:Se,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:He,startGap:Ie,endGap:Ee,visible:Boolean}),Le=(e,t)=>e<t?re:ne,We=e=>"rtl"===e;let De=null;function ze(e=!1){if(null===De||e){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const l=document.createElement("div"),o=l.style;return o.width="100px",o.height="100px",e.appendChild(l),document.body.appendChild(e),e.scrollLeft>0?De=pe:(e.scrollLeft=1,De=0===e.scrollLeft?me:fe),document.body.removeChild(e),De}return De}const Ke=s({name:"ElVirtualScrollBar",props:Oe,emits:["scroll","start-move","stop-move"],setup(t,{emit:l}){const o=e((()=>t.startGap+t.endGap)),r=i("virtual-scrollbar"),n=i("scrollbar"),a=c(),s=c();let w=null,g=null;const y=d({isDragging:!1,traveled:0}),x=e((()=>Y[t.layout])),v=e((()=>t.clientSize-u(o))),b=e((()=>({position:"absolute",width:`${ue===t.layout?v.value:t.scrollbarSize}px`,height:`${ue===t.layout?t.scrollbarSize:v.value}px`,[we[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"}))),S=e((()=>{const e=t.ratio,l=t.clientSize;if(e>=100)return Number.POSITIVE_INFINITY;if(e>=50)return e*l/100;const o=l/3;return Math.floor(Math.min(Math.max(e*l,20),o))})),R=e((()=>{if(!Number.isFinite(S.value))return{display:"none"};const e=`${S.value}px`,l=function({move:e,size:t,bar:l},o){const r={},n=`translate${l.axis}(${e}px)`;return r[l.size]=t,r.transform=n,r.msTransform=n,r.webkitTransform=n,"horizontal"===o?r.height="100%":r.width="100%",r}({bar:x.value,size:e,move:y.traveled},t.layout);return l})),T=e((()=>Math.floor(t.clientSize-S.value-u(o)))),C=()=>{window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",I),document.onselectstart=g,g=null;const e=u(s);e&&(e.removeEventListener("touchmove",E),e.removeEventListener("touchend",I))},H=e=>{e.stopImmediatePropagation(),e.ctrlKey||[1,2].includes(e.button)||(y.isDragging=!0,y[x.value.axis]=e.currentTarget[x.value.offset]-(e[x.value.client]-e.currentTarget.getBoundingClientRect()[x.value.direction]),l("start-move"),(()=>{window.addEventListener("mousemove",E),window.addEventListener("mouseup",I);const e=u(s);e&&(g=document.onselectstart,document.onselectstart=()=>!1,e.addEventListener("touchmove",E,{passive:!0}),e.addEventListener("touchend",I))})())},I=()=>{y.isDragging=!1,y[x.value.axis]=0,l("stop-move"),C()},E=e=>{const{isDragging:o}=y;if(!o)return;if(!s.value||!a.value)return;const r=y[x.value.axis];if(!r)return;X(w);const n=-1*(a.value.getBoundingClientRect()[x.value.direction]-e[x.value.client])-(s.value[x.value.offset]-r);w=J((()=>{y.traveled=Math.max(t.startGap,Math.min(n,T.value)),l("scroll",n,T.value)}))},M=e=>{const t=Math.abs(e.target.getBoundingClientRect()[x.value.direction]-e[x.value.client])-s.value[x.value.offset]/2;y.traveled=Math.max(0,Math.min(t,T.value)),l("scroll",t,T.value)};return h((()=>t.scrollFrom),(e=>{y.isDragging||(y.traveled=Math.ceil(e*T.value))})),m((()=>{C()})),()=>f("div",{role:"presentation",ref:a,class:[r.b(),t.class,(t.alwaysOn||y.isDragging)&&"always-on"],style:b.value,onMousedown:p(M,["stop","prevent"]),onTouchstartPrevent:H},f("div",{ref:s,class:n.e("thumb"),style:R.value,onMousedown:H},[]))}}),Ae=({name:t,clearCache:o,getColumnPosition:r,getColumnStartIndexForOffset:n,getColumnStopIndexForStartIndex:a,getEstimatedTotalHeight:d,getEstimatedTotalWidth:h,getColumnOffset:m,getRowOffset:p,getRowPosition:H,getRowStartIndexForOffset:I,getRowStopIndexForStartIndex:E,initCache:M,injectToInstance:O,validateProps:L})=>s({name:null!=t?t:"ElVirtualList",props:Me,emits:[le,oe],setup(t,{emit:s,expose:W,slots:D}){const z=i("vl");L(t);const K=l(),A=c(M(t,K));null==O||O(K,A);const N=c(),j=c(),F=c(),G=c(null),V=c({isScrolling:!1,scrollLeft:w(t.initScrollLeft)?t.initScrollLeft:0,scrollTop:w(t.initScrollTop)?t.initScrollTop:0,updateRequested:!1,xAxisScrollDir:re,yAxisScrollDir:re}),k=te(),P=e((()=>Number.parseInt(`${t.height}`,10))),$=e((()=>Number.parseInt(`${t.width}`,10))),B=e((()=>{const{totalColumn:e,totalRow:l,columnCache:o}=t,{isScrolling:r,xAxisScrollDir:s,scrollLeft:i}=u(V);if(0===e||0===l)return[0,0,0,0];const c=n(t,i,u(A)),d=a(t,c,i,u(A)),h=r&&s!==ne?1:Math.max(1,o),m=r&&s!==re?1:Math.max(1,o);return[Math.max(0,c-h),Math.max(0,Math.min(e-1,d+m)),c,d]})),q=e((()=>{const{totalColumn:e,totalRow:l,rowCache:o}=t,{isScrolling:r,yAxisScrollDir:n,scrollTop:a}=u(V);if(0===e||0===l)return[0,0,0,0];const s=I(t,a,u(A)),i=E(t,s,a,u(A)),c=r&&n!==ne?1:Math.max(1,o),d=r&&n!==re?1:Math.max(1,o);return[Math.max(0,s-c),Math.max(0,Math.min(l-1,i+d)),s,i]})),U=e((()=>d(t,u(A)))),Y=e((()=>h(t,u(A)))),Q=e((()=>{var e;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:t.direction,height:w(t.height)?`${t.height}px`:t.height,width:w(t.width)?`${t.width}px`:t.width},null!=(e=t.style)?e:{}]})),_=e((()=>{const e=`${u(Y)}px`;return{height:`${u(U)}px`,pointerEvents:u(V).isScrolling?"none":void 0,width:e}})),Z=()=>{const{totalColumn:e,totalRow:l}=t;if(e>0&&l>0){const[e,t,l,o]=u(B),[r,n,a,i]=u(q);s(le,{columnCacheStart:e,columnCacheEnd:t,rowCacheStart:r,rowCacheEnd:n,columnVisibleStart:l,columnVisibleEnd:o,rowVisibleStart:a,rowVisibleEnd:i})}const{scrollLeft:o,scrollTop:r,updateRequested:n,xAxisScrollDir:a,yAxisScrollDir:i}=u(V);s(oe,{xAxisScrollDir:a,scrollLeft:o,yAxisScrollDir:i,scrollTop:r,updateRequested:n})},ee=e=>{const{clientHeight:l,clientWidth:o,scrollHeight:r,scrollLeft:n,scrollTop:a,scrollWidth:s}=e.currentTarget,i=u(V);if(i.scrollTop===a&&i.scrollLeft===n)return;let c=n;if(We(t.direction))switch(ze()){case me:c=-n;break;case pe:c=s-o-n}V.value={...i,isScrolling:!0,scrollLeft:c,scrollTop:Math.max(0,Math.min(a,r-l)),updateRequested:!0,xAxisScrollDir:Le(i.scrollLeft,c),yAxisScrollDir:Le(i.scrollTop,a)},v((()=>he())),we(),Z()},se=(e,t)=>{const l=u(P),o=(U.value-l)/t*e;de({scrollTop:Math.min(U.value-l,o)})},ie=(e,t)=>{const l=u($),o=(Y.value-l)/t*e;de({scrollLeft:Math.min(Y.value-l,o)})},{onWheel:ce}=(({atXEndEdge:e,atXStartEdge:t,atYEndEdge:l,atYStartEdge:o},r)=>{let n=null,a=0,s=0;const i=(r,n)=>{const a=r<=0&&t.value||r>=0&&e.value,s=n<=0&&o.value||n>=0&&l.value;return a&&s};return{hasReachedEdge:i,onWheel:e=>{X(n);let t=e.deltaX,l=e.deltaY;Math.abs(t)>Math.abs(l)?l=0:t=0,e.shiftKey&&0!==l&&(t=l,l=0),i(a,s)&&i(a+t,s+l)||(a+=t,s+=l,e.preventDefault(),n=J((()=>{r(a,s),a=0,s=0})))}}})({atXStartEdge:e((()=>V.value.scrollLeft<=0)),atXEndEdge:e((()=>V.value.scrollLeft>=Y.value-u($))),atYStartEdge:e((()=>V.value.scrollTop<=0)),atYEndEdge:e((()=>V.value.scrollTop>=U.value-u(P)))},((e,t)=>{var l,o,r,n;null==(o=null==(l=j.value)?void 0:l.onMouseUp)||o.call(l),null==(n=null==(r=F.value)?void 0:r.onMouseUp)||n.call(r);const a=u($),s=u(P);de({scrollLeft:Math.min(V.value.scrollLeft+e,Y.value-a),scrollTop:Math.min(V.value.scrollTop+t,U.value-s)})}));g(N,"wheel",ce,{passive:!1});const de=({scrollLeft:e=V.value.scrollLeft,scrollTop:t=V.value.scrollTop})=>{e=Math.max(e,0),t=Math.max(t,0);const l=u(V);t===l.scrollTop&&e===l.scrollLeft||(V.value={...l,xAxisScrollDir:Le(l.scrollLeft,e),yAxisScrollDir:Le(l.scrollTop,t),scrollLeft:e,scrollTop:t,updateRequested:!0},v((()=>he())),we(),Z())},ue=(e,l)=>{const{columnWidth:n,direction:a,rowHeight:s}=t,i=k.value(o&&n,o&&s,o&&a),c=`${e},${l}`;if(C(i,c))return i[c];{const[,o]=r(t,l,u(A)),n=u(A),s=We(a),[d,h]=H(t,e,n),[m]=r(t,l,n);return i[c]={position:"absolute",left:s?void 0:`${o}px`,right:s?`${o}px`:void 0,top:`${h}px`,height:`${d}px`,width:`${m}px`},i[c]}},he=()=>{V.value.isScrolling=!1,v((()=>{k.value(-1,null,null)}))};y((()=>{if(!x)return;const{initScrollLeft:e,initScrollTop:l}=t,o=u(N);o&&(w(e)&&(o.scrollLeft=e),w(l)&&(o.scrollTop=l)),Z()}));const we=()=>{const{direction:e}=t,{scrollLeft:l,scrollTop:o,updateRequested:r}=u(V),n=u(N);if(r&&n){if("rtl"===e)switch(ze()){case me:n.scrollLeft=-l;break;case fe:n.scrollLeft=l;break;default:{const{clientWidth:e,scrollWidth:t}=n;n.scrollLeft=t-e-l;break}}else n.scrollLeft=Math.max(0,l);n.scrollTop=Math.max(0,o)}},{resetAfterColumnIndex:ge,resetAfterRowIndex:ye,resetAfter:xe}=K.proxy;W({windowRef:N,innerRef:G,getItemStyleCache:k,scrollTo:de,scrollToItem:(e=0,l=0,o=ae)=>{const r=u(V);l=Math.max(0,Math.min(l,t.totalColumn-1)),e=Math.max(0,Math.min(e,t.totalRow-1));const n=b(z.namespace.value),a=u(A),s=d(t,a),i=h(t,a);de({scrollLeft:m(t,l,o,r.scrollLeft,a,i>t.width?n:0),scrollTop:p(t,e,o,r.scrollTop,a,s>t.height?n:0)})},states:V,resetAfterColumnIndex:ge,resetAfterRowIndex:ye,resetAfter:xe});const ve=()=>{const e=S(t.innerElement),l=(()=>{var e;const[l,o]=u(B),[r,n]=u(q),{data:a,totalColumn:s,totalRow:i,useIsScrolling:c,itemKey:d}=t,h=[];if(i>0&&s>0)for(let t=r;t<=n;t++)for(let r=l;r<=o;r++){const l=d({columnIndex:r,data:a,rowIndex:t});h.push(f(T,{key:l},null==(e=D.default)?void 0:e.call(D,{columnIndex:r,data:a,isScrolling:c?u(V).isScrolling:void 0,style:ue(t,r),rowIndex:t})))}return h})();return[f(e,{style:u(_),ref:G},R(e)?l:{default:()=>l})]};return()=>{const e=S(t.containerElement),{horizontalScrollbar:l,verticalScrollbar:o}=(()=>{const{scrollbarAlwaysOn:e,scrollbarStartGap:l,scrollbarEndGap:o,totalColumn:r,totalRow:n}=t,a=u($),s=u(P),i=u(Y),c=u(U),{scrollLeft:d,scrollTop:h}=u(V);return{horizontalScrollbar:f(Ke,{ref:j,alwaysOn:e,startGap:l,endGap:o,class:z.e("horizontal"),clientSize:a,layout:"horizontal",onScroll:ie,ratio:100*a/i,scrollFrom:d/(i-a),total:n,visible:!0}),verticalScrollbar:f(Ke,{ref:F,alwaysOn:e,startGap:l,endGap:o,class:z.e("vertical"),clientSize:s,layout:"vertical",onScroll:se,ratio:100*s/c,scrollFrom:h/(c-s),total:r,visible:!0})}})(),r=ve();return f("div",{key:0,class:z.e("wrapper"),role:t.role},[f(e,{class:t.className,style:u(Q),onScroll:ee,ref:N},R(e)?r:{default:()=>r}),l,o])}}}),Ne=Ae({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:l},o,r,n,a,s)=>{l=Number(l);const i=Math.max(0,e*t-l),c=Math.min(i,o*t),d=Math.max(0,o*t-l+s+t);switch("smart"===r&&(r=n>=d-l&&n<=c+l?ae:ce),r){case ie:return c;case de:return d;case ce:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(l/2)?0:e>i+Math.floor(l/2)?i:e}default:return n>=d&&n<=c?n:d>c||n<d?d:c}},getRowOffset:({rowHeight:e,height:t,totalRow:l},o,r,n,a,s)=>{t=Number(t);const i=Math.max(0,l*e-t),c=Math.min(i,o*e),d=Math.max(0,o*e-t+s+e);switch(r===se&&(r=n>=d-t&&n<=c+t?ae:ce),r){case ie:return c;case de:return d;case ce:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(t/2)?0:e>i+Math.floor(t/2)?i:e}default:return n>=d&&n<=c?n:d>c||n<d?d:c}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:l},o,r)=>{const n=o*e,a=Math.ceil((l+r-n)/e);return Math.max(0,Math.min(t-1,o+a-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:l},o,r)=>{const n=o*e,a=Math.ceil((l+r-n)/e);return Math.max(0,Math.min(t-1,o+a-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),{max:je,min:Fe,floor:Ge}=Math,Ve={column:"columnWidth",row:"rowHeight"},ke={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Pe=(e,t,l,o)=>{const[r,n,a]=[l[o],e[Ve[o]],l[ke[o]]];if(t>a){let e=0;if(a>=0){const t=r[a];e=t.offset+t.size}for(let l=a+1;l<=t;l++){const t=n(l);r[l]={offset:e,size:t},e+=t}l[ke[o]]=t}return r[t]},$e=(e,t,l,o,r,n)=>{for(;l<=o;){const a=l+Ge((o-l)/2),s=Pe(e,a,t,n).offset;if(s===r)return a;s<r?l=a+1:o=a-1}return je(0,l-1)},Be=(e,t,l,o)=>{const[r,n]=[t[o],t[ke[o]]];return(n>0?r[n].offset:0)>=l?$e(e,t,0,n,l,o):((e,t,l,o,r)=>{const n="column"===r?e.totalColumn:e.totalRow;let a=1;for(;l<n&&Pe(e,l,t,r).offset<o;)l+=a,a*=2;return $e(e,t,Ge(l/2),Fe(l,n-1),o,r)})(e,t,je(0,n),l,o)},qe=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:l,row:o})=>{let r=0;if(l>=e&&(l=e-1),l>=0){const e=o[l];r=e.offset+e.size}return r+(e-l-1)*t},Ue=({totalColumn:e},{column:t,estimatedColumnWidth:l,lastVisitedColumnIndex:o})=>{let r=0;if(o>e&&(o=e-1),o>=0){const e=t[o];r=e.offset+e.size}return r+(e-o-1)*l},Ye={column:Ue,row:qe},Xe=(e,t,l,o,r,n,a)=>{const[s,i]=["row"===n?e.height:e.width,Ye[n]],c=Pe(e,t,r,n),d=i(e,r),u=je(0,Fe(d-s,c.offset)),h=je(0,c.offset-s+a+c.size);switch(l===se&&(l=o>=h-s&&o<=u+s?ae:ce),l){case ie:return u;case de:return h;case ce:return Math.round(h+(u-h)/2);default:return o>=h&&o<=u?o:h>u||o<h?h:u}},Je=Ae({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,l)=>{const o=Pe(e,t,l,"column");return[o.size,o.offset]},getRowPosition:(e,t,l)=>{const o=Pe(e,t,l,"row");return[o.size,o.offset]},getColumnOffset:(e,t,l,o,r,n)=>Xe(e,t,l,o,r,"column",n),getRowOffset:(e,t,l,o,r,n)=>Xe(e,t,l,o,r,"row",n),getColumnStartIndexForOffset:(e,t,l)=>Be(e,l,t,"column"),getColumnStopIndexForStartIndex:(e,t,l,o)=>{const r=Pe(e,t,o,"column"),n=l+e.width;let a=r.offset+r.size,s=t;for(;s<e.totalColumn-1&&a<n;)s++,a+=Pe(e,t,o,"column").size;return s},getEstimatedTotalHeight:qe,getEstimatedTotalWidth:Ue,getRowStartIndexForOffset:(e,t,l)=>Be(e,l,t,"row"),getRowStopIndexForStartIndex:(e,t,l,o)=>{const{totalRow:r,height:n}=e,a=Pe(e,t,o,"row"),s=l+n;let i=a.size+a.offset,c=t;for(;c<r-1&&i<s;)c++,i+=Pe(e,c,o,"row").size;return c},injectToInstance:(e,t)=>{const l=({columnIndex:l,rowIndex:o},r)=>{var n,a;r=!!H(r)||r,w(l)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,l-1)),w(o)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,o-1)),null==(n=e.exposed)||n.getItemStyleCache.value(-1,null,null),r&&(null==(a=e.proxy)||a.$forceUpdate())};Object.assign(e.proxy,{resetAfterColumnIndex:(e,t)=>{l({columnIndex:e},t)},resetAfterRowIndex:(e,t)=>{l({rowIndex:e},t)},resetAfter:l})},initCache:({estimatedColumnWidth:e=50,estimatedRowHeight:t=50})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}});var Qe=(e=>(e.ASC="asc",e.DESC="desc",e))(Qe||{}),_e=(e=>(e.CENTER="center",e.RIGHT="right",e))(_e||{}),Ze=(e=>(e.LEFT="left",e.RIGHT="right",e))(Ze||{});const et={asc:"desc",desc:"asc"},tt=Symbol("placeholder");const lt=(t,{mainTableRef:o,leftTableRef:r,rightTableRef:n,tableInstance:a,ns:s,isScrolling:i})=>{const d=l(),{emit:h}=d,m=E(!1),f=c(t.defaultExpandedRowKeys||[]),p=c(-1),g=E(null),y=c({}),x=c({}),v=E({}),b=E({}),S=E({}),R=e((()=>w(t.estimatedRowHeight)));const T=U((()=>{var e,t,l,a;m.value=!0,y.value={...u(y),...u(x)},C(u(g),!1),x.value={},g.value=null,null==(e=o.value)||e.forceUpdate(),null==(t=r.value)||t.forceUpdate(),null==(l=n.value)||l.forceUpdate(),null==(a=d.proxy)||a.$forceUpdate(),m.value=!1}),0);function C(e,t=!1){u(R)&&[o,r,n].forEach((l=>{const o=u(l);o&&o.resetAfterRowIndex(e,t)}))}return{expandedRowKeys:f,lastRenderedRowIndex:p,isDynamic:R,isResetting:m,rowHeights:y,resetAfterIndex:C,onRowExpanded:function({expanded:e,rowData:l,rowIndex:o,rowKey:r}){var n,a;const s=[...u(f)],i=s.indexOf(r);e?-1===i&&s.push(r):i>-1&&s.splice(i,1),f.value=s,h("update:expandedRowKeys",s),null==(n=t.onRowExpand)||n.call(t,{expanded:e,rowData:l,rowIndex:o,rowKey:r}),null==(a=t.onExpandedRowsChange)||a.call(t,s)},onRowHovered:function({hovered:e,rowKey:t}){if(i.value)return;a.vnode.el.querySelectorAll(`[rowkey="${String(t)}"]`).forEach((t=>{e?t.classList.add(s.is("hovered")):t.classList.remove(s.is("hovered"))}))},onRowsRendered:function(e){var l;null==(l=t.onRowsRendered)||l.call(t,e),e.rowCacheEnd>u(p)&&(p.value=e.rowCacheEnd)},onRowHeightChange:function({rowKey:e,height:t,rowIndex:l},o){o?o===Ze.RIGHT?S.value[e]=t:v.value[e]=t:b.value[e]=t;const r=Math.max(...[v,S,b].map((t=>t.value[e]||0)));u(y)[e]!==r&&(!function(e,t,l){const o=u(g);(null===o||o>l)&&(g.value=l),x.value[e]=t}(e,r,l),T())}}},ot=(e,t)=>e+t,rt=e=>M(e)?e.reduce(ot,0):e,nt=(e,t,l={})=>O(e)?e(t):null!=e?e:l,at=e=>(["width","maxWidth","minWidth","height"].forEach((t=>{e[t]=L(e[t])})),e),st=e=>W(e)?t=>f(e,t):e;function it(t){const o=c(),r=c(),n=c(),{columns:a,columnsStyles:s,columnsTotalWidth:d,fixedColumnsOnLeft:m,fixedColumnsOnRight:f,hasFixedColumns:p,mainColumns:g,onColumnSorted:y}=function(t,l,o){const r=e((()=>u(l).map(((e,t)=>{var l,o;return{...e,key:null!=(o=null!=(l=e.key)?l:e.dataKey)?o:t}})))),n=e((()=>u(r).filter((e=>!e.hidden)))),a=e((()=>u(n).filter((e=>"left"===e.fixed||!0===e.fixed)))),s=e((()=>u(n).filter((e=>"right"===e.fixed)))),i=e((()=>u(n).filter((e=>!e.fixed)))),c=e((()=>{const e=[];return u(a).forEach((t=>{e.push({...t,placeholderSign:tt})})),u(i).forEach((t=>{e.push(t)})),u(s).forEach((t=>{e.push({...t,placeholderSign:tt})})),e})),d=e((()=>u(a).length||u(s).length)),h=e((()=>u(r).reduce(((e,l)=>(e[l.key]=((e,t,l)=>{var o;const r={flexGrow:0,flexShrink:0,...l?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};l||(r.flexShrink=1);const n={...null!=(o=e.style)?o:{},...r,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(n.maxWidth=e.maxWidth),e.minWidth&&(n.minWidth=e.minWidth)),n})(l,u(o),t.fixed),e)),{}))),m=e((()=>u(n).reduce(((e,t)=>e+t.width),0))),f=e=>u(r).find((t=>t.key===e));return{columns:r,columnsStyles:h,columnsTotalWidth:m,fixedColumnsOnLeft:a,fixedColumnsOnRight:s,hasFixedColumns:d,mainColumns:c,normalColumns:i,visibleColumns:n,getColumn:f,getColumnStyle:e=>u(h)[e],updateColumnWidth:(e,t)=>{e.width=t},onColumnSorted:function(e){var l;const{key:o}=e.currentTarget.dataset;if(!o)return;const{sortState:r,sortBy:n}=t;let a=Qe.ASC;a=I(r)?et[r[o]]:et[n.order],null==(l=t.onColumnSort)||l.call(t,{column:f(o),key:o,order:a})}}}(t,z(t,"columns"),z(t,"fixed")),{scrollTo:x,scrollToLeft:v,scrollToTop:b,scrollToRow:S,onScroll:R,onVerticalScroll:T,scrollPos:C}=((e,{mainTableRef:t,leftTableRef:l,rightTableRef:o,onMaybeEndReached:r})=>{const n=c({scrollLeft:0,scrollTop:0});function a(e){var r,n,a;const{scrollTop:s}=e;null==(r=t.value)||r.scrollTo(e),null==(n=l.value)||n.scrollToTop(s),null==(a=o.value)||a.scrollToTop(s)}function s(e){n.value=e,a(e)}function i(e){n.value.scrollTop=e,a(u(n))}return h((()=>u(n).scrollTop),((e,t)=>{e>t&&r()})),{scrollPos:n,scrollTo:s,scrollToLeft:function(e){var l,o;n.value.scrollLeft=e,null==(o=null==(l=t.value)?void 0:l.scrollTo)||o.call(l,u(n))},scrollToTop:i,scrollToRow:function(e,l="auto"){var o;null==(o=t.value)||o.scrollToRow(e,l)},onScroll:function(t){var l;s(t),null==(l=e.onScroll)||l.call(e,t)},onVerticalScroll:function({scrollTop:e}){const{scrollTop:t}=u(n);e!==t&&i(e)}}})(t,{mainTableRef:o,leftTableRef:r,rightTableRef:n,onMaybeEndReached:function(){const{onEndReached:e}=t;if(!e)return;const{scrollTop:l}=u(C),o=u(_),r=u(Z),n=o-(l+r)+t.hScrollbarSize;u(K)>=0&&o===l+u(Y)-u(oe)&&e(n)}}),H=i("table-v2"),O=l(),W=E(!1),{expandedRowKeys:D,lastRenderedRowIndex:K,isDynamic:A,isResetting:N,rowHeights:j,resetAfterIndex:F,onRowExpanded:G,onRowHeightChange:V,onRowHovered:k,onRowsRendered:P}=lt(t,{mainTableRef:o,leftTableRef:r,rightTableRef:n,tableInstance:O,ns:H,isScrolling:W}),{data:$,depthMap:B}=((t,{expandedRowKeys:l,lastRenderedRowIndex:o,resetAfterIndex:r})=>{const n=c({}),a=e((()=>{const e={},{data:o,rowKey:r}=t,a=u(l);if(!a||!a.length)return o;const s=[],i=new Set;a.forEach((e=>i.add(e)));let c=o.slice();for(c.forEach((t=>e[t[r]]=0));c.length>0;){const t=c.shift();s.push(t),i.has(t[r])&&M(t.children)&&t.children.length>0&&(c=[...t.children,...c],t.children.forEach((l=>e[l[r]]=e[t[r]]+1)))}return n.value=e,s})),s=e((()=>{const{data:e,expandColumnKey:l}=t;return l?u(a):e}));return h(s,((e,t)=>{e!==t&&(o.value=-1,r(0,!0))})),{data:s,depthMap:n}})(t,{expandedRowKeys:D,lastRenderedRowIndex:K,resetAfterIndex:F}),{bodyWidth:q,fixedTableHeight:U,mainTableHeight:Y,leftTableWidth:X,rightTableWidth:J,headerWidth:Q,rowsHeight:_,windowHeight:Z,footerHeight:ee,emptyStyle:te,rootStyle:le,headerHeight:oe}=((t,{columnsTotalWidth:l,data:o,fixedColumnsOnLeft:r,fixedColumnsOnRight:n})=>{const a=e((()=>{const{fixed:e,width:o,vScrollbarSize:r}=t,n=o-r;return e?Math.max(Math.round(u(l)),n):n})),s=e((()=>u(a)+t.vScrollbarSize)),i=e((()=>{const{height:e=0,maxHeight:l=0,footerHeight:o,hScrollbarSize:r}=t;if(l>0){const e=u(g),t=u(c),n=u(p)+e+t+r;return Math.min(n,l-o)}return e-o})),c=e((()=>{const{rowHeight:e,estimatedRowHeight:l}=t,r=u(o);return w(l)?r.length*l:r.length*e})),d=e((()=>{const{maxHeight:e}=t,l=u(i);if(w(e)&&e>0)return l;const o=u(c)+u(p)+u(g);return Math.min(l,o)})),h=e=>e.width,m=e((()=>rt(u(r).map(h)))),f=e((()=>rt(u(n).map(h)))),p=e((()=>rt(t.headerHeight))),g=e((()=>{var e;return((null==(e=t.fixedData)?void 0:e.length)||0)*t.rowHeight})),y=e((()=>u(i)-u(p)-u(g))),x=e((()=>{const{style:e={},height:l,width:o}=t;return at({...e,height:l,width:o})})),v=e((()=>at({height:t.footerHeight}))),b=e((()=>({top:L(u(p)),bottom:L(t.footerHeight),width:L(t.width)})));return{bodyWidth:a,fixedTableHeight:d,mainTableHeight:i,leftTableWidth:m,rightTableWidth:f,headerWidth:s,rowsHeight:c,windowHeight:y,footerHeight:v,emptyStyle:b,rootStyle:x,headerHeight:p}})(t,{columnsTotalWidth:d,data:$,fixedColumnsOnLeft:m,fixedColumnsOnRight:f}),re=c(),ne=e((()=>{const e=0===u($).length;return M(t.fixedData)?0===t.fixedData.length&&e:e}));return h((()=>t.expandedRowKeys),(e=>D.value=e),{deep:!0}),{columns:a,containerRef:re,mainTableRef:o,leftTableRef:r,rightTableRef:n,isDynamic:A,isResetting:N,isScrolling:W,hasFixedColumns:p,columnsStyles:s,columnsTotalWidth:d,data:$,expandedRowKeys:D,depthMap:B,fixedColumnsOnLeft:m,fixedColumnsOnRight:f,mainColumns:g,bodyWidth:q,emptyStyle:te,rootStyle:le,headerWidth:Q,footerHeight:ee,mainTableHeight:Y,fixedTableHeight:U,leftTableWidth:X,rightTableWidth:J,showEmpty:ne,getRowHeight:function(e){const{estimatedRowHeight:l,rowHeight:o,rowKey:r}=t;return l?u(j)[u($)[e][r]]||l:o},onColumnSorted:y,onRowHovered:k,onRowExpanded:G,onRowsRendered:P,onRowHeightChange:V,scrollTo:x,scrollToLeft:v,scrollToTop:b,scrollToRow:S,onScroll:R,onVerticalScroll:T}}const ct=Symbol("tableV2"),dt=String,ut={type:r(Array),required:!0},ht={type:r(Array)},mt={...ht,required:!0},ft=String,pt={type:r(Array),default:()=>a([])},wt={type:Number,required:!0},gt={type:r([String,Number,Symbol]),default:"id"},yt={type:r(Object)},xt=n({class:String,columns:ut,columnsStyles:{type:r(Object),required:!0},depth:Number,expandColumnKey:ft,estimatedRowHeight:{...Me.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:r(Function)},onRowHover:{type:r(Function)},onRowHeightChange:{type:r(Function)},rowData:{type:r(Object),required:!0},rowEventHandlers:{type:r(Object)},rowIndex:{type:Number,required:!0},rowKey:gt,style:{type:r(Object)}}),vt={type:Number,required:!0},bt=n({class:String,columns:ut,fixedHeaderData:{type:r(Array)},headerData:{type:r(Array),required:!0},headerHeight:{type:r([Number,Array]),default:50},rowWidth:vt,rowHeight:{type:Number,default:50},height:vt,width:vt}),St=n({columns:ut,data:mt,fixedData:ht,estimatedRowHeight:xt.estimatedRowHeight,width:wt,height:wt,headerWidth:wt,headerHeight:bt.headerHeight,bodyWidth:wt,rowHeight:wt,cache:Ce.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Me.scrollbarAlwaysOn,scrollbarStartGap:Me.scrollbarStartGap,scrollbarEndGap:Me.scrollbarEndGap,class:dt,style:yt,containerStyle:yt,getRowHeight:{type:r(Function),required:!0},rowKey:xt.rowKey,onRowsRendered:{type:r(Function)},onScroll:{type:r(Function)}}),Rt=n({cache:St.cache,estimatedRowHeight:xt.estimatedRowHeight,rowKey:gt,headerClass:{type:r([String,Function])},headerProps:{type:r([Object,Function])},headerCellProps:{type:r([Object,Function])},headerHeight:bt.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:r([String,Function])},rowProps:{type:r([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:r([Object,Function])},columns:ut,data:mt,dataGetter:{type:r(Function)},fixedData:ht,expandColumnKey:xt.expandColumnKey,expandedRowKeys:pt,defaultExpandedRowKeys:pt,class:dt,fixed:Boolean,style:{type:r(Object)},width:wt,height:wt,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Me.hScrollbarSize,vScrollbarSize:Me.vScrollbarSize,scrollbarAlwaysOn:Oe.alwaysOn,sortBy:{type:r(Object),default:()=>({})},sortState:{type:r(Object),default:void 0},onColumnSort:{type:r(Function)},onExpandedRowsChange:{type:r(Function)},onEndReached:{type:r(Function)},onRowExpand:xt.onRowExpand,onScroll:St.onScroll,onRowsRendered:St.onRowsRendered,rowEventHandlers:xt.rowEventHandlers}),Tt=(e,{slots:t})=>{var l;const{cellData:o,style:r}=e,n=(null==(l=null==o?void 0:o.toString)?void 0:l.call(o))||"",a=K(t,"default",e,(()=>[n]));return A("div",{class:e.class,title:n,style:r},[a])};Tt.displayName="ElTableV2Cell",Tt.inheritAttrs=!1;const Ct=(e,{slots:t})=>K(t,"default",e,(()=>{var t,l;return[A("div",{class:e.class,title:null==(t=e.column)?void 0:t.title},[null==(l=e.column)?void 0:l.title])]}));Ct.displayName="ElTableV2HeaderCell",Ct.inheritAttrs=!1;const Ht=n({class:String,columns:ut,columnsStyles:{type:r(Object),required:!0},headerIndex:Number,style:{type:r(Object)}}),It=s({name:"ElTableV2HeaderRow",props:Ht,setup:(e,{slots:t})=>()=>{const{columns:l,columnsStyles:o,headerIndex:r,style:n}=e;let a=l.map(((e,n)=>t.cell({columns:l,column:e,columnIndex:n,headerIndex:r,style:o[e.key]})));return t.header&&(a=t.header({cells:a.map((e=>M(e)&&1===e.length?e[0]:e)),columns:l,headerIndex:r})),A("div",{class:e.class,style:n,role:"row"},[a])}}),Et=s({name:"ElTableV2Header",props:bt,setup(t,{slots:l,expose:o}){const r=i("table-v2"),n=N("tableV2GridScrollLeft"),a=c(),s=e((()=>at({width:t.width,height:t.height}))),d=e((()=>at({width:t.rowWidth,height:t.height}))),h=e((()=>Q(u(t.headerHeight)))),m=e=>{const t=u(a);v((()=>{(null==t?void 0:t.scroll)&&t.scroll({left:e})}))},f=()=>{const e=r.e("fixed-header-row"),{columns:o,fixedHeaderData:n,rowHeight:a}=t;return null==n?void 0:n.map(((t,r)=>{var n;const s=at({height:a,width:"100%"});return null==(n=l.fixed)?void 0:n.call(l,{class:e,columns:o,rowData:t,rowIndex:-(r+1),style:s})}))},p=()=>{const e=r.e("dynamic-header-row"),{columns:o}=t;return u(h).map(((t,r)=>{var n;const a=at({width:"100%",height:t});return null==(n=l.dynamic)?void 0:n.call(l,{class:e,columns:o,headerIndex:r,style:a})}))};return j((()=>{(null==n?void 0:n.value)&&m(n.value)})),o({scrollToLeft:m}),()=>{if(!(t.height<=0))return A("div",{ref:a,class:t.class,style:u(s),role:"rowgroup"},[A("div",{style:u(d),class:r.e("header")},[p(),f()])])}}}),Mt=t=>{const{isScrolling:l}=N(ct),o=c(!1),r=c(),n=e((()=>w(t.estimatedRowHeight)&&t.rowIndex>=0)),a=e((()=>{const{rowData:e,rowIndex:l,rowKey:o,onRowHover:r}=t,n=t.rowEventHandlers||{},a={};return Object.entries(n).forEach((([t,r])=>{O(r)&&(a[t]=t=>{r({event:t,rowData:e,rowIndex:l,rowKey:o})})})),r&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach((({name:t,hovered:n})=>{const s=a[t];a[t]=t=>{r({event:t,hovered:n,rowData:e,rowIndex:l,rowKey:o}),null==s||s(t)}})),a}));return y((()=>{u(n)&&((e=!1)=>{const l=u(r);if(!l)return;const{columns:n,onRowHeightChange:a,rowKey:s,rowIndex:i,style:c}=t,{height:d}=l.getBoundingClientRect();o.value=!0,v((()=>{if(e||d!==Number.parseInt(c.height)){const e=n[0],t=(null==e?void 0:e.placeholderSign)===tt;null==a||a({rowKey:s,height:d,rowIndex:i},e&&!t&&e.fixed)}}))})(!0)})),{isScrolling:l,measurable:n,measured:o,rowRef:r,eventHandlers:a,onExpand:e=>{const{onRowExpand:l,rowData:o,rowIndex:r,rowKey:n}=t;null==l||l({expanded:e,rowData:o,rowIndex:r,rowKey:n})}}},Ot=s({name:"ElTableV2TableRow",props:xt,setup(e,{expose:t,slots:l,attrs:o}){const{eventHandlers:r,isScrolling:n,measurable:a,measured:s,rowRef:i,onExpand:c}=Mt(e);return t({onExpand:c}),()=>{const{columns:t,columnsStyles:d,expandColumnKey:h,depth:m,rowData:f,rowIndex:p,style:w}=e;let g=t.map(((e,o)=>{const r=M(f.children)&&f.children.length>0&&e.key===h;return l.cell({column:e,columns:t,columnIndex:o,depth:m,style:d[e.key],rowData:f,rowIndex:p,isScrolling:u(n),expandIconProps:r?{rowData:f,rowIndex:p,onExpand:c}:void 0})}));if(l.row&&(g=l.row({cells:g.map((e=>M(e)&&1===e.length?e[0]:e)),style:w,columns:t,depth:m,rowData:f,rowIndex:p,isScrolling:u(n)})),u(a)){const{height:t,...l}=w||{},n=u(s);return A("div",F({ref:i,class:e.class,style:n?w:l,role:"row"},o,u(r)),[g])}return A("div",F(o,{ref:i,class:e.class,style:w,role:"row"},u(r)),[g])}}}),Lt=e=>{const{sortOrder:t}=e;return A(k,{size:14,class:e.class},{default:()=>[t===Qe.ASC?A(G,null,null):A(V,null,null)]})},Wt=e=>{const{expanded:t,expandable:l,onExpand:o,style:r,size:n}=e,a={onClick:l?()=>o(!t):void 0,class:e.class};return A(k,F(a,{size:n,style:r}),{default:()=>[A(P,null,null)]})},Dt=s({name:"ElTableV2Grid",props:St,setup(t,{slots:l,expose:o}){const{ns:r}=N(ct),{bodyRef:n,fixedRowHeight:a,gridHeight:s,hasHeader:i,headerRef:d,headerHeight:h,totalHeight:m,forceUpdate:f,itemKey:p,onItemRendered:g,resetAfterRowIndex:y,scrollTo:x,scrollToTop:v,scrollToRow:b,scrollLeft:S}=(t=>{const l=c(),o=c(),r=c(0),n=e((()=>{const{data:e,rowHeight:l,estimatedRowHeight:o}=t;if(!o)return e.length*l})),a=e((()=>{const{fixedData:e,rowHeight:l}=t;return((null==e?void 0:e.length)||0)*l})),s=e((()=>rt(t.headerHeight))),i=e((()=>{const{height:e}=t;return Math.max(0,e-u(s)-u(a))})),d=e((()=>u(s)+u(a)>0));return{bodyRef:o,forceUpdate:function(){var e,t;null==(e=u(o))||e.$forceUpdate(),null==(t=u(l))||t.$forceUpdate()},fixedRowHeight:a,gridHeight:i,hasHeader:d,headerHeight:s,headerRef:l,totalHeight:n,itemKey:({data:e,rowIndex:l})=>e[l][t.rowKey],onItemRendered:function({rowCacheStart:e,rowCacheEnd:l,rowVisibleStart:o,rowVisibleEnd:r}){var n;null==(n=t.onRowsRendered)||n.call(t,{rowCacheStart:e,rowCacheEnd:l,rowVisibleStart:o,rowVisibleEnd:r})},resetAfterRowIndex:function(e,t){var l;null==(l=o.value)||l.resetAfterRowIndex(e,t)},scrollTo:function(e,t){const n=u(l),a=u(o);I(e)?(null==n||n.scrollToLeft(e.scrollLeft),r.value=e.scrollLeft,null==a||a.scrollTo(e)):(null==n||n.scrollToLeft(e),r.value=e,null==a||a.scrollTo({scrollLeft:e,scrollTop:t}))},scrollToTop:function(e){var t;null==(t=u(o))||t.scrollTo({scrollTop:e})},scrollToRow:function(e,t){var l;null==(l=u(o))||l.scrollToItem(e,1,t)},scrollLeft:r}})(t);$("tableV2GridScrollLeft",S),o({forceUpdate:f,totalHeight:m,scrollTo:x,scrollToTop:v,scrollToRow:b,resetAfterRowIndex:y});const R=()=>t.bodyWidth;return()=>{const{cache:e,columns:o,data:c,fixedData:m,useIsScrolling:f,scrollbarAlwaysOn:y,scrollbarEndGap:x,scrollbarStartGap:v,style:b,rowHeight:S,bodyWidth:T,estimatedRowHeight:C,headerWidth:H,height:I,width:E,getRowHeight:M,onScroll:O}=t,L=w(C),W=L?Je:Ne,D=u(h);return A("div",{role:"table",class:[r.e("table"),t.class],style:b},[A(W,{ref:n,data:c,useIsScrolling:f,itemKey:p,columnCache:0,columnWidth:L?R:T,totalColumn:1,totalRow:c.length,rowCache:e,rowHeight:L?M:S,width:E,height:u(s),class:r.e("body"),role:"rowgroup",scrollbarStartGap:v,scrollbarEndGap:x,scrollbarAlwaysOn:y,onScroll:O,onItemRendered:g,perfMode:!1},{default:e=>{var t;const r=c[e.rowIndex];return null==(t=l.row)?void 0:t.call(l,{...e,columns:o,rowData:r})}}),u(i)&&A(Et,{ref:d,class:r.e("header-wrapper"),columns:o,headerData:c,headerHeight:t.headerHeight,fixedHeaderData:m,rowWidth:H,rowHeight:S,width:E,height:Math.min(D+u(a),I)},{dynamic:l.header,fixed:l.row})])}}});const zt=(e,{slots:t})=>{const{mainTableRef:l,...o}=e;return A(Dt,F({ref:l},o),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!W(r)?t:{default:()=>[t]});var r};const Kt=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:l,...o}=e;return A(Dt,F({ref:l},o),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!W(r)?t:{default:()=>[t]});var r};const At=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:l,...o}=e;return A(Dt,F({ref:l},o),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!W(r)?t:{default:()=>[t]});var r};const Nt=(e,{slots:t})=>{const{columns:l,columnsStyles:o,depthMap:r,expandColumnKey:n,expandedRowKeys:a,estimatedRowHeight:s,hasFixedColumns:i,rowData:c,rowIndex:d,style:u,isScrolling:h,rowProps:m,rowClass:f,rowKey:p,rowEventHandlers:w,ns:g,onRowHovered:y,onRowExpanded:x}=e,v=nt(f,{columns:l,rowData:c,rowIndex:d},""),b=nt(m,{columns:l,rowData:c,rowIndex:d}),S=c[p],R=r[S]||0,T=Boolean(n),C=d<0,H=[g.e("row"),v,{[g.e(`row-depth-${R}`)]:T&&d>=0,[g.is("expanded")]:T&&a.includes(S),[g.is("fixed")]:!R&&C,[g.is("customized")]:Boolean(t.row)}],I=i?y:void 0,E={...b,columns:l,columnsStyles:o,class:H,depth:R,expandColumnKey:n,estimatedRowHeight:C?void 0:s,isScrolling:h,rowIndex:d,rowData:c,rowKey:S,rowEventHandlers:w,style:u};return A(Ot,F(E,{onRowExpand:x,onMouseenter:e=>{null==I||I({hovered:!0,rowKey:S,event:e,rowData:c,rowIndex:d})},onMouseleave:e=>{null==I||I({hovered:!1,rowKey:S,event:e,rowData:c,rowIndex:d})},rowkey:S}),"function"==typeof(M=t)||"[object Object]"===Object.prototype.toString.call(M)&&!W(M)?t:{default:()=>[t]});var M},jt=({columns:e,column:t,columnIndex:l,depth:o,expandIconProps:r,isScrolling:n,rowData:a,rowIndex:s,style:i,expandedRowKeys:c,ns:d,cellProps:u,expandColumnKey:h,indentSize:m,iconSize:f,rowKey:p},{slots:w})=>{const g=at(i);if(t.placeholderSign===tt)return A("div",{class:d.em("row-cell","placeholder"),style:g},null);const{cellRenderer:y,dataKey:x,dataGetter:v}=t,b=O(v)?v({columns:e,column:t,columnIndex:l,rowData:a,rowIndex:s}):B(a,null!=x?x:""),S=nt(u,{cellData:b,columns:e,column:t,columnIndex:l,rowIndex:s,rowData:a}),R={class:d.e("cell-text"),columns:e,column:t,columnIndex:l,cellData:b,isScrolling:n,rowData:a,rowIndex:s},T=st(y),C=T?T(R):K(w,"default",R,(()=>[A(Tt,R,null)])),H=[d.e("row-cell"),t.class,t.align===_e.CENTER&&d.is("align-center"),t.align===_e.RIGHT&&d.is("align-right")],E=s>=0&&h&&t.key===h,M=s>=0&&c.includes(a[p]);let L;const W=`margin-inline-start: ${o*m}px;`;return E&&(L=I(r)?A(Wt,F(r,{class:[d.e("expand-icon"),d.is("expanded",M)],size:f,expanded:M,style:W,expandable:!0}),null):A("div",{style:[W,`width: ${f}px; height: ${f}px;`].join(" ")},null)),A("div",F({class:H,style:g},S,{role:"cell"}),[L,C])};jt.inheritAttrs=!1;const Ft=({columns:e,columnsStyles:t,headerIndex:l,style:o,headerClass:r,headerProps:n,ns:a},{slots:s})=>{const i={columns:e,headerIndex:l},c=[a.e("header-row"),nt(r,i,""),{[a.is("customized")]:Boolean(s.header)}],d={...nt(n,i),columnsStyles:t,class:c,columns:e,headerIndex:l,style:o};return A(It,d,"function"==typeof(u=s)||"[object Object]"===Object.prototype.toString.call(u)&&!W(u)?s:{default:()=>[s]});var u},Gt=(e,{slots:t})=>{const{column:l,ns:o,style:r,onColumnSorted:n}=e,a=at(r);if(l.placeholderSign===tt)return A("div",{class:o.em("header-row-cell","placeholder"),style:a},null);const{headerCellRenderer:s,headerClass:i,sortable:c}=l,d={...e,class:o.e("header-cell-text")},u=st(s),h=u?u(d):K(t,"default",d,(()=>[A(Ct,d,null)])),{sortBy:m,sortState:f,headerCellProps:p}=e;let w,g;if(f){const e=f[l.key];w=Boolean(et[e]),g=w?e:Qe.ASC}else w=l.key===m.key,g=w?m.order:Qe.ASC;const y=[o.e("header-cell"),nt(i,e,""),l.align===_e.CENTER&&o.is("align-center"),l.align===_e.RIGHT&&o.is("align-right"),c&&o.is("sortable")],x={...nt(p,e),onClick:l.sortable?n:void 0,class:y,style:a,"data-key":l.key};return A("div",F(x,{role:"columnheader"}),[h,c&&A(Lt,{class:[o.e("sort-icon"),w&&o.is("sorting")],sortOrder:g},null)])},Vt=(e,{slots:t})=>{var l;return A("div",{class:e.class,style:e.style},[null==(l=t.default)?void 0:l.call(t)])};Vt.displayName="ElTableV2Footer";const kt=(e,{slots:t})=>{const l=K(t,"default",{},(()=>[A(_,null,null)]));return A("div",{class:e.class,style:e.style},[l])};kt.displayName="ElTableV2Empty";const Pt=(e,{slots:t})=>{var l;return A("div",{class:e.class,style:e.style},[null==(l=t.default)?void 0:l.call(t)])};function $t(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!W(e)}Pt.displayName="ElTableV2Overlay";const Bt=s({name:"ElTableV2",props:Rt,setup(e,{slots:t,expose:l}){const o=i("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:n,fixedColumnsOnRight:a,mainColumns:s,mainTableHeight:c,fixedTableHeight:d,leftTableWidth:h,rightTableWidth:m,data:f,depthMap:p,expandedRowKeys:w,hasFixedColumns:g,mainTableRef:y,leftTableRef:x,rightTableRef:v,isDynamic:b,isResetting:S,isScrolling:R,bodyWidth:T,emptyStyle:C,rootStyle:H,headerWidth:I,footerHeight:E,showEmpty:M,scrollTo:O,scrollToLeft:L,scrollToTop:W,scrollToRow:D,getRowHeight:z,onColumnSorted:K,onRowHeightChange:N,onRowHovered:j,onRowExpanded:G,onRowsRendered:V,onScroll:k,onVerticalScroll:P}=it(e);return l({scrollTo:O,scrollToLeft:L,scrollToTop:W,scrollToRow:D}),$(ct,{ns:o,isResetting:S,isScrolling:R}),()=>{const{cache:l,cellProps:i,estimatedRowHeight:S,expandColumnKey:R,fixedData:O,headerHeight:L,headerClass:W,headerProps:D,headerCellProps:$,sortBy:B,sortState:q,rowHeight:U,rowClass:Y,rowEventHandlers:X,rowKey:J,rowProps:Q,scrollbarAlwaysOn:_,indentSize:Z,iconSize:ee,useIsScrolling:te,vScrollbarSize:le,width:oe}=e,re=u(f),ne={cache:l,class:o.e("main"),columns:u(s),data:re,fixedData:O,estimatedRowHeight:S,bodyWidth:u(T)+le,headerHeight:L,headerWidth:u(I),height:u(c),mainTableRef:y,rowKey:J,rowHeight:U,scrollbarAlwaysOn:_,scrollbarStartGap:2,scrollbarEndGap:le,useIsScrolling:te,width:oe,getRowHeight:z,onRowsRendered:V,onScroll:k},ae=u(h),se=u(d),ie={cache:l,class:o.e("left"),columns:u(n),data:re,estimatedRowHeight:S,leftTableRef:x,rowHeight:U,bodyWidth:ae,headerWidth:ae,headerHeight:L,height:se,rowKey:J,scrollbarAlwaysOn:_,scrollbarStartGap:2,scrollbarEndGap:le,useIsScrolling:te,width:ae,getRowHeight:z,onScroll:P},ce=u(m)+le,de={cache:l,class:o.e("right"),columns:u(a),data:re,estimatedRowHeight:S,rightTableRef:v,rowHeight:U,bodyWidth:ce,headerWidth:ce,headerHeight:L,height:se,rowKey:J,scrollbarAlwaysOn:_,scrollbarStartGap:2,scrollbarEndGap:le,width:ce,style:`--${u(o.namespace)}-table-scrollbar-size: ${le}px`,useIsScrolling:te,getRowHeight:z,onScroll:P},ue=u(r),he={ns:o,depthMap:u(p),columnsStyles:ue,expandColumnKey:R,expandedRowKeys:u(w),estimatedRowHeight:S,hasFixedColumns:u(g),rowProps:Q,rowClass:Y,rowKey:J,rowEventHandlers:X,onRowHovered:j,onRowExpanded:G,onRowHeightChange:N},me={cellProps:i,expandColumnKey:R,indentSize:Z,iconSize:ee,rowKey:J,expandedRowKeys:u(w),ns:o},fe={ns:o,headerClass:W,headerProps:D,columnsStyles:ue},pe={ns:o,sortBy:B,sortState:q,headerCellProps:$,onColumnSorted:K},we={row:e=>A(Nt,F(e,he),{row:t.row,cell:e=>{let l;return t.cell?A(jt,F(e,me,{style:ue[e.column.key]}),$t(l=t.cell(e))?l:{default:()=>[l]}):A(jt,F(e,me,{style:ue[e.column.key]}),null)}}),header:e=>A(Ft,F(e,fe),{header:t.header,cell:e=>{let l;return t["header-cell"]?A(Gt,F(e,pe,{style:ue[e.column.key]}),$t(l=t["header-cell"](e))?l:{default:()=>[l]}):A(Gt,F(e,pe,{style:ue[e.column.key]}),null)}})},ge=[e.class,o.b(),o.e("root"),{[o.is("dynamic")]:u(b)}],ye={class:o.e("footer"),style:u(E)};return A("div",{class:ge,style:u(H)},[A(zt,ne,$t(we)?we:{default:()=>[we]}),A(Kt,ie,$t(we)?we:{default:()=>[we]}),A(At,de,$t(we)?we:{default:()=>[we]}),t.footer&&A(Vt,ye,{default:t.footer}),u(M)&&A(kt,{class:o.e("empty"),style:u(C)},{default:t.empty}),t.overlay&&A(Pt,{class:o.e("overlay")},{default:t.overlay})])}}}),qt=n({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:r(Function)}}),Ut=s({name:"ElAutoResizer",props:qt,setup(e,{slots:t}){const l=i("auto-resizer"),{height:o,width:r,sizer:n}=(e=>{const t=c(),l=c(0),o=c(0);let r;return y((()=>{r=D(t,(([e])=>{const{width:t,height:r}=e.contentRect,{paddingLeft:n,paddingRight:a,paddingTop:s,paddingBottom:i}=getComputedStyle(e.target),c=Number.parseInt(n)||0,d=Number.parseInt(a)||0,u=Number.parseInt(s)||0,h=Number.parseInt(i)||0;l.value=t-c-d,o.value=r-u-h})).stop})),m((()=>{null==r||r()})),h([l,o],(([t,l])=>{var o;null==(o=e.onResize)||o.call(e,{width:t,height:l})})),{sizer:t,width:l,height:o}})(e),a={width:"100%",height:"100%"};return()=>{var e;return A("div",{ref:n,class:l.b(),style:a},[null==(e=t.default)?void 0:e.call(t,{height:o.value,width:r.value})])}}}),Yt=q(Bt),Xt=q(Ut);export{Yt as E,Xt as a};
