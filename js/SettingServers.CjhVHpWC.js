import{ad as e,c as l,l as a,w as o,a4 as d,e as m,Q as u,ah as t,ac as n,k as _,t as s,a3 as i,aB as V,au as p}from"./index.fjkLwUVu.js";import"./el-scrollbar.DAmtYv6U.js";import{E as r}from"./el-row.CR2lAonX.js";import{E as c}from"./el-col.Asb1dzXh.js";import{E as f,a as h}from"./el-form-item.LUBrM-X2.js";import{s as b}from"./screen-height.CaLnsKT6.js";import{s as U}from"./setting.Ym5MVI_R.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{E as g}from"./index.CC5uJ0zJ.js";import"./castArray.BF9loTbA.js";import"./_Uint8Array.BeplMWlC.js";import"./tagsView.DWSC-EGY.js";const x={key:0},v={key:1},w={key:2};const j=y({name:"SystemSettingServer",data:()=>({name:"服务器信息",height:680,loading:!1,model:{}}),created(){this.height=b(210),this.info()},methods:{info(){U().then((e=>{this.model=e.data}))},refresh(){this.loading=!0,U({force:1}).then((l=>{this.model=l.data,this.loading=!1,e.success(l.msg)})).catch((()=>{this.loading=!1}))}}},[["render",function(e,b,U,y,j,k){const P=V,z=f,E=h,S=c,D=p,A=r,B=g;return l(),a(B,{native:"",height:j.height},{default:o((()=>[d(A,null,{default:o((()=>[d(S,{span:12},{default:o((()=>[d(E,{model:j.model,"label-width":"150px"},{default:o((()=>[d(z,{label:"ThinkPHP"},{default:o((()=>[d(P,{modelValue:j.model.thinkphp,"onUpdate:modelValue":b[0]||(b[0]=e=>j.model.thinkphp=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"OS"},{default:o((()=>[d(P,{modelValue:j.model.system_info,"onUpdate:modelValue":b[1]||(b[1]=e=>j.model.system_info=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"Web"},{default:o((()=>[d(P,{modelValue:j.model.server_software,"onUpdate:modelValue":b[2]||(b[2]=e=>j.model.server_software=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"MySQL"},{default:o((()=>[d(P,{modelValue:j.model.mysql,"onUpdate:modelValue":b[3]||(b[3]=e=>j.model.mysql=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"PHP"},{default:o((()=>[d(P,{modelValue:j.model.php_version,"onUpdate:modelValue":b[4]||(b[4]=e=>j.model.php_version=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"Protocol"},{default:o((()=>[d(P,{modelValue:j.model.server_protocol,"onUpdate:modelValue":b[5]||(b[5]=e=>j.model.server_protocol=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"IP"},{default:o((()=>[d(P,{modelValue:j.model.ip,"onUpdate:modelValue":b[6]||(b[6]=e=>j.model.ip=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"Domain"},{default:o((()=>[d(P,{modelValue:j.model.domain,"onUpdate:modelValue":b[7]||(b[7]=e=>j.model.domain=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"Port"},{default:o((()=>[d(P,{modelValue:j.model.port,"onUpdate:modelValue":b[8]||(b[8]=e=>j.model.port=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"php_sapi_name"},{default:o((()=>[d(P,{modelValue:j.model.php_sapi_name,"onUpdate:modelValue":b[9]||(b[9]=e=>j.model.php_sapi_name=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"max_execution_time"},{default:o((()=>[d(P,{modelValue:j.model.max_execution_time,"onUpdate:modelValue":b[10]||(b[10]=e=>j.model.max_execution_time=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"upload_max_filesize"},{default:o((()=>[d(P,{modelValue:j.model.upload_max_filesize,"onUpdate:modelValue":b[11]||(b[11]=e=>j.model.upload_max_filesize=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"post_max_size",class:"ya-margin-bottom"},{default:o((()=>[d(P,{modelValue:j.model.post_max_size,"onUpdate:modelValue":b[12]||(b[12]=e=>j.model.post_max_size=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1}),d(S,{span:12},{default:o((()=>[d(E,{model:j.model,"label-width":"150px"},{default:o((()=>[d(z,{label:"缓存类型",prop:"type"},{default:o((()=>[d(P,{modelValue:j.model.cache_type,"onUpdate:modelValue":b[13]||(b[13]=e=>j.model.cache_type=e)},null,8,["modelValue"])])),_:1}),"redis"===j.model.cache_type?(l(),m("div",x,[d(z,{label:"Redis"},{default:o((()=>[d(P,{modelValue:j.model.redis_version,"onUpdate:modelValue":b[14]||(b[14]=e=>j.model.redis_version=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"运行时长"},{default:o((()=>[d(P,{modelValue:j.model.uptime_in_days,"onUpdate:modelValue":b[15]||(b[15]=e=>j.model.uptime_in_days=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"已用内存"},{default:o((()=>[d(P,{modelValue:j.model.used_memory_human,"onUpdate:modelValue":b[16]||(b[16]=e=>j.model.used_memory_human=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"峰值内存"},{default:o((()=>[d(P,{modelValue:j.model.used_memory_peak_human,"onUpdate:modelValue":b[17]||(b[17]=e=>j.model.used_memory_peak_human=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"Lua内存"},{default:o((()=>[d(P,{modelValue:j.model.used_memory_lua_human,"onUpdate:modelValue":b[18]||(b[18]=e=>j.model.used_memory_lua_human=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"客户端数"},{default:o((()=>[d(P,{modelValue:j.model.connected_clients,"onUpdate:modelValue":b[19]||(b[19]=e=>j.model.connected_clients=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"总连接数"},{default:o((()=>[d(P,{modelValue:j.model.total_connections_received,"onUpdate:modelValue":b[20]||(b[20]=e=>j.model.total_connections_received=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"总命令数"},{default:o((()=>[d(P,{modelValue:j.model.total_commands_processed,"onUpdate:modelValue":b[21]||(b[21]=e=>j.model.total_commands_processed=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"内存碎片比率"},{default:o((()=>[d(P,{modelValue:j.model.mem_fragmentation_ratio,"onUpdate:modelValue":b[22]||(b[22]=e=>j.model.mem_fragmentation_ratio=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"DB0",class:"ya-margin-bottom"},{default:o((()=>[d(P,{modelValue:j.model.db0,"onUpdate:modelValue":b[23]||(b[23]=e=>j.model.db0=e)},null,8,["modelValue"])])),_:1}),(l(),m(u,null,t(15,(e=>(l(),m(u,null,[j.model["db"+e]?(l(),a(z,{key:e,label:"DB"+e,class:"ya-margin-bottom"},{default:o((()=>[d(P,{modelValue:j.model["db"+e],"onUpdate:modelValue":l=>j.model["db"+e]=l},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["label"])):n("",!0)],64)))),64))])):"memcache"===j.model.cache_type?(l(),m("div",v,[d(z,{label:"memcache"},{default:o((()=>[d(P,{modelValue:j.model.version,"onUpdate:modelValue":b[24]||(b[24]=e=>j.model.version=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"运行秒数"},{default:o((()=>[d(P,{modelValue:j.model.uptime,"onUpdate:modelValue":b[25]||(b[25]=e=>j.model.uptime=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"读取字节总数"},{default:o((()=>[d(P,{modelValue:j.model.bytes_read,"onUpdate:modelValue":b[26]||(b[26]=e=>j.model.bytes_read=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"写入字节总数"},{default:o((()=>[d(P,{modelValue:j.model.bytes_written,"onUpdate:modelValue":b[27]||(b[27]=e=>j.model.bytes_written=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"分配的内存数"},{default:o((()=>[d(P,{modelValue:j.model.limit_maxbytes,"onUpdate:modelValue":b[28]||(b[28]=e=>j.model.limit_maxbytes=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"当前打开链接数"},{default:o((()=>[d(P,{modelValue:j.model.curr_connections,"onUpdate:modelValue":b[29]||(b[29]=e=>j.model.curr_connections=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"曾打开连接总数"},{default:o((()=>[d(P,{modelValue:j.model.total_connections,"onUpdate:modelValue":b[30]||(b[30]=e=>j.model.total_connections=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"执行get命令总数"},{default:o((()=>[d(P,{modelValue:j.model.cmd_get,"onUpdate:modelValue":b[31]||(b[31]=e=>j.model.cmd_get=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"执行set命令总数"},{default:o((()=>[d(P,{modelValue:j.model.cmd_set,"onUpdate:modelValue":b[32]||(b[32]=e=>j.model.cmd_set=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"flush_all命令总数"},{default:o((()=>[d(P,{modelValue:j.model.cmd_flush,"onUpdate:modelValue":b[33]||(b[33]=e=>j.model.cmd_flush=e)},null,8,["modelValue"])])),_:1}),d(z,{label:"当前服务器时间",class:"ya-margin-bottom"},{default:o((()=>[d(P,{modelValue:j.model.time,"onUpdate:modelValue":b[34]||(b[34]=e=>j.model.time=e)},null,8,["modelValue"])])),_:1})])):"wincache"===j.model.cache_type?(l(),m("div",w,[d(z,{label:"缓存信息",prop:"wincache_info"},{default:o((()=>[_("pre",null,s(j.model.wincache_info),1)])),_:1})])):n("",!0)])),_:1},8,["model"])])),_:1}),d(S,{span:24},{default:o((()=>[d(E,{model:j.model,"label-width":"150px"},{default:o((()=>[d(z,null,{default:o((()=>[d(D,{loading:j.loading,title:"刷新",onClick:b[35]||(b[35]=e=>k.refresh())},{default:o((()=>b[36]||(b[36]=[i("刷新")]))),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])])),_:1})])),_:1})])),_:1},8,["height"])}]]);export{j as default};
